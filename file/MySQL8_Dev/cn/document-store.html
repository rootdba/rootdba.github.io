<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" class="translated-ltr"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>第20章将MySQL用作文档存储</title>
<link rel="stylesheet" href="mvl.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets + chunker.py v1.9.2">
<link rel="start" href="index.html" title="{书名}">
<link rel="up" href="" title="">
<link rel="prev" href="mysql-shell-userguide.html" title="第19章MySQL Shell">
<link rel="next" href="mysql-innodb-cluster-userguide.html" title="第21章InnoDB集群">
 <link type="text/css" rel="stylesheet" charset="UTF-8" href="/doc/MySQL8_Dev/translateelement.css"></head>

<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tbody><tr>
<th colspan="3" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20章将MySQL用作文档存储</font></font></th>
</tr>
<tr>
<td width="20%" align="left"><a accesskey="p" href="mysql-shell-userguide.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a>&nbsp;</td>
<th width="60%" align="center"></th>
<td width="20%" align="right">&nbsp;<a accesskey="n" href="mysql-innodb-cluster-userguide.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
</tbody></table>
<hr>
</div>
<div class="chapter">
<div class="titlepage">
<div>
<div>
<h1 class="title"><a name="document-store"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20章将MySQL用作文档存储</font></font></h1>

</div>

</div>

</div>
<div class="toc">
<p><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></b></p><dl class="toc"><dt><span class="section"><a href="document-store.html#document-store-interfaces"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.1 MySQL文档存储的接口</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#document-store-concepts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.2文档存储概念</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3 JavaScript快速入门指南：用于文档存储的MySQL Shell</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-download"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.1导入数据库示例</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-shell"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.2 MySQL Shell</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-documents-collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3文件和收藏</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-relational-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4关系表</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-documents-in-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.5表格中的文件</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4 Python快速入门指南：用于文档存储的MySQL Shell</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-download"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.1导入数据库示例</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-shell"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.2 MySQL Shell</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-documents-collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3文件和收藏</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-relational-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4关系表</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-documents-in-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.5表格中的文件</font></font></a></span></dt></dl></dd><dt><span class="section"><a href="document-store.html#x-plugin"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5 X插件</font></font></a></span></dt><dd><dl><dt><span class="section"><a href="document-store.html#x-plugin-checking-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.1检查X插件安装</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-disabling"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.2禁用X插件</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-ssl-connections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.3使用带X插件的安全连接</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-sha2-cache-plugin"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.4将X插件与缓存SHA-2身份验证插件一起使用</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-options-variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.5 X插件选项和变量</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-system-monitoring"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.6监控X插件</font></font></a></span></dt></dl></dd></dl>
</div>
<a class="indexterm" name="idm140091613238640"></a><a class="indexterm" name="idm140091613237600"></a><a class="indexterm" name="idm140091613236112"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本章介绍了使用MySQL作为文档存储的另一种方法，有时也称为</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用NoSQL</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您打算以传统（SQL）方式使用MySQL，那么本章可能与您无关。
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    传统上，诸如MySQL之类的关系数据库通常需要在存储文档之前定义模式。</font><font style="vertical-align: inherit;">本节中描述的功能使您可以将MySQL用作文档存储，这是一种无模式，因此模式灵活的文档存储系统。</font><font style="vertical-align: inherit;">例如，在创建描述产品的文档时，在存储和操作文档之前，您无需了解和定义任何产品的所有可能属性。</font><font style="vertical-align: inherit;">这与使用关系数据库并将产品存储在表中不同，此时必须知道并定义表的所有列，然后才能将任何产品添加到数据库中。</font><font style="vertical-align: inherit;">通过本章介绍的功能，您可以选择仅使用文档存储模型配置MySQL的方式，
  </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    要将MySQL用作文档存储，请使用以下服务器功能：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        X Plugin使MySQL Server能够使用X协议与客户端进行通信，这是使用MySQL作为文档存储的先决条件。</font><font style="vertical-align: inherit;">默认情况下，MySQL插件在MySQL 8.0中启用。</font><font style="vertical-align: inherit;">有关验证X插件安装以及配置和监视X插件的说明，请参见</font></font><a class="xref" href="document-store.html#x-plugin" title="20.5 X插件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.5节“X插件”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        X Protocol支持CRUD和SQL操作，通过SASL进行身份验证，允许命令的流（流水线），并且可以在协议和消息层上进行扩展。</font><font style="vertical-align: inherit;">与X协议兼容的客户端包括MySQL Shell和MySQL 8.0连接器。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用X协议与MySQL服务器通信的客户端可以使用X DevAPI开发应用程序。</font><font style="vertical-align: inherit;">X DevAPI提供现代编程接口，简单而强大的设计，为已建立的行业标准概念提供支持。</font><font style="vertical-align: inherit;">本章介绍如何开始使用MySQL Shell中的X DevAPI的JavaScript或Python实现作为客户端。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">使用X DevAPI的深入教程，</font><font style="vertical-align: inherit;">请参阅“ </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X DevAPI用户指南”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="document-store-interfaces"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.1 MySQL文档存储的接口</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要使用MySQL作为文档存储，您可以使用专用组件和一组支持与MySQL服务器通信的客户端来开发基于文档的应用程序。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下MySQL产品支持X协议，使您能够使用所选语言的X DevAPI开发与作为文档存储的MySQL服务器通信的应用程序：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              MySQL Shell（在JavaScript和Python中提供X DevAPI的实现）
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接器/ C ++
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接器/ J
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接器/ Node.js的
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接器/ NET
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              连接器/ Python的
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          MySQL Shell是MySQL的交互式接口，支持JavaScript，Python或SQL模式。</font><font style="vertical-align: inherit;">您可以使用MySQL Shell来构建应用程序原型，执行查询和更新数据。
          </font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-install.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装MySQL Shell</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有下载和安装MySQL Shell的说明。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          本章中的快速入门指南（教程）可帮助您开始使用MySQL Shell和MySQL作为文档存储。
        </font></font></p><p><font style="vertical-align: inherit;"></font><a class="xref" href="document-store.html#mysql-shell-tutorial-javascript" title="20.3 JavaScript快速入门指南：用于文档存储的MySQL Shell"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript的快速入门指南</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
          在这里：
           </font><a class="xref" href="document-store.html#mysql-shell-tutorial-javascript" title="20.3&nbsp;JavaScript Quick-Start Guide: MySQL Shell for Document Store"><font style="vertical-align: inherit;">第20.3节“JavaScript快速入门指南：用于文档存储的MySQL Shell”</font></a><font style="vertical-align: inherit;">。
        </font></font></p><p><font style="vertical-align: inherit;"></font><a class="xref" href="document-store.html#mysql-shell-tutorial-python" title="20.4 Python快速入门指南：用于文档存储的MySQL Shell"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python的快速入门指南</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
          在这里：
           </font><a class="xref" href="document-store.html#mysql-shell-tutorial-python" title="20.4&nbsp;Python Quick-Start Guide: MySQL Shell for Document Store"><font style="vertical-align: inherit;">第20.4节“Python快速入门指南：用于文档存储的MySQL Shell”</font></a><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          的</font></font><em class="citetitle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的壳牌用户指南</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在
           </font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的壳牌8.0（8.0的MySQL的一部分）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了有关配置和使用MySQL壳的详细信息。
</font></font></p></li></ul>
</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="document-store-concepts"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.2文档存储概念</font></font></h2>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍将MySQL用作文档存储的过程中引入的概念。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h3 class="title"><a name="idm140091613208544"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSON文档</font></font></h3>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        JSON文档是由键值对组成的数据结构，是使用MySQL作为文档存储的基本结构。</font><font style="vertical-align: inherit;">例如，world_x架构（在本章后面安装）包含此文档：
      </font></font></p><pre data-lang="json" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “GNP”：。6，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “IndepYear”：1967年，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “名字”：“西兰”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “_id”：“SEA”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “LifeExpectancy”：79，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口”：27</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “大陆”：“欧洲”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地区”：“英属群岛”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “SurfaceArea”：193</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府形式”：“君主制”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “HeadOfState”：“Michael Bates”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
}</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该文档显示键的值可以是简单的数据类型，例如整数或字符串，但也可以包含其他文档，数组和文档列表。</font><font style="vertical-align: inherit;">例如，
         </font></font><code class="literal">geography</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">键的值由多个键值对组成。</font><font style="vertical-align: inherit;">使用MySQL二进制JSON对象，通过</font></font><a class="link" href="data-types.html#json" title="11.6 JSON数据类型"><code class="literal">JSON</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL数据类型</font><font style="vertical-align: inherit;">在内部表示JSON文档
         </font><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        文档与传统关系数据库中已知的表之间最重要的区别在于，文档的结构不必事先定义，并且集合可以包含具有不同结构的多个文档。</font><font style="vertical-align: inherit;">另一方面，关系表要求定义其结构，并且表中的所有行必须包含相同的列。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h3 class="title"><a name="idm140091613202160"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">采集</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        集合是用于在MySQL数据库中存储JSON文档的容器。</font><font style="vertical-align: inherit;">应用程序通常针对一组文档运行操作，例如查找特定文档。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h3 class="title"><a name="idm140091613200720"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRUD操作</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        可以针对集合发出的四个基本操作是创建，读取，更新和删除（CRUD）。</font><font style="vertical-align: inherit;">就MySQL而言，这意味着：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            创建新文档（插入或添加）
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            阅读一个或多个文档（查询）
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            更新一个或多个文档
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            删除一个或多个文档
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="mysql-shell-tutorial-javascript"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3 JavaScript快速入门指南：用于文档存储的MySQL Shell</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-download"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.1导入数据库示例</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-shell"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.2 MySQL Shell</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-documents-collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3文件和收藏</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-relational-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4关系表</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-documents-in-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.5表格中的文件</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本快速入门指南提供了使用MySQL Shell以交互方式开始构建文档存储应用程序原型的说明。</font><font style="vertical-align: inherit;">该指南包括以下主题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL功能，MySQL Shell和
         </font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库示例简介。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        管理集合和文档的操作。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        管理关系表的操作。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        适用于表中文档的操作。
</font></font></p></li></ul>
</div>
<h3><a name="idm140091613189200"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h3>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Shell 8.0（MySQL 8.0的一部分）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了有关MySQL Shell的更多深入信息。
      </font></font></p></li><li class="listitem"><p>
        <a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X DevAPI用户指南</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了使用X DevAPI的更多示例。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个</font></font><a class="link" href="document-store.html#mysql-shell-tutorial-python" title="20.4 Python快速入门指南：用于文档存储的MySQL Shell"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        快速入门指南也可以。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-javascript-download"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.1导入数据库示例</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库样本包含一个JSON收集和一组三个关系表：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          采集
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              countryinfo：有关世界各国的信息。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          表
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              country：关于世界各国的最少信息。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              city：有关这些国家/地区的部分城市的信息。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              countrylanguage：每个国家/地区使用的语言。
</font></font></p></li></ul>
</div>
</li></ul>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091613174560"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要遵循这个快速入门指南，您需要一个安装了X插件的MySQL服务器，8.0中的默认设置和用作客户端的MySQL Shell。</font><font style="vertical-align: inherit;">请参阅
         </font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-install.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装MySQL Shell</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在加载</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本指南</font><font style="vertical-align: inherit;">的示例</font><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">之前启动MySQL </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091613171696"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载并导入world_x数据库</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要准备</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库示例，请按照下列步骤操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            下载
             </font></font><a class="ulink" href="http://downloads.mysql.com/docs/world_x-db.zip" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">world_x-db.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将安装存档解压缩到临时位置，例如</font></font><code class="filename">/tmp/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">解压缩归档会产生一个名为的文件
             </font></font><code class="filename">world_x.sql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将</font></font><code class="filename">world_x.sql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">导入</font><font style="vertical-align: inherit;">数据库。</font><font style="vertical-align: inherit;">你可以：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在SQL模式下启动MySQL Shell并通过发出以下命令导入文件：
              </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>mysqlsh -u root --sql --file /tmp/world_x-db/world_x.sql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码： </font></font><strong class="userinput"><code>****</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在MySQL Shell运行时将MySQL Shell设置为SQL模式，并在MySQL Shell运行时通过发出以下命令来获取模式文件：
              </font></font></p><pre data-lang="mysqlsh" class="programlisting"><strong class="userinput"><code>\source /tmp/world_x-db/world_x.sql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
切换到SQL模式...命令以;结尾;</font></font><font></font>
<strong class="userinput"><code>\source /tmp/world_x-db/world_x.sql</code></strong>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            替换</font></font><code class="filename">/tmp/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code class="filename">world_x.sql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统上文件</font><font style="vertical-align: inherit;">的路径
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">出现提示时输入密码。</font><font style="vertical-align: inherit;">只要帐户具有创建新数据库的权限，就可以使用非root帐户。
</font></font></p></li></ol>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091613154160"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-sessions.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Shell Sessions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解释了会话类型。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关</font><font style="vertical-align: inherit;">常规安装帮助</font></font><a class="xref" href="installing.html" title="第2章安装和升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><i><font style="vertical-align: inherit;"></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="installing.html" title="第2章安装和升级MySQL"><font style="vertical-align: inherit;">第2章，</font></a><a class="xref" href="installing.html" title="第2章安装和升级MySQL"><i><font style="vertical-align: inherit;">安装和升级MySQL</font></i></a><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-javascript-shell"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.2 MySQL Shell</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL Shell是MySQL Server的统一脚本接口。</font><font style="vertical-align: inherit;">它支持JavaScript和Python中的脚本。</font><font style="vertical-align: inherit;">JavaScript是默认的处理模式。</font><font style="vertical-align: inherit;">在大多数情况下，您需要一个帐户才能连接到MySQL服务器实例。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="mysql-shell-tutorial-javascript-shell-start"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动MySQL Shell</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        安装并启动MySQL服务器后，将MySQL Shell连接到服务器实例。</font><font style="vertical-align: inherit;">默认情况下，MySQL Shell使用X协议进行连接。</font><font style="vertical-align: inherit;">您需要知道您计划连接的MySQL服务器实例的地址。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果MySQL Shell尚未运行，请打开终端窗口并发出：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>mysqlsh <em class="replaceable"><code>name</code></em>@<em class="replaceable"><code>host</code></em>/world_x</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        或者，如果MySQL Shell已经运行，请使用以下
         </font></font><code class="literal">\connect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><strong class="userinput"><code>\connect <em class="replaceable"><code>name</code></em>@<em class="replaceable"><code>host</code></em>/world_x</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您需要指定要将MySQL Shell连接到的MySQL服务器实例的地址。</font><font style="vertical-align: inherit;">例如，在前面的示例中：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <em class="replaceable"><code>name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 代表您的MySQL帐户的用户名。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL Shell会提示您输入密码。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            此会话的默认架构是
             </font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库。</font><font style="vertical-align: inherit;">有关设置</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库示例的说明，请参见
             </font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-javascript-download" title="20.3.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.3.1节“导入数据库示例”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL Shell打开后，</font></font><code class="literal">mysql-js&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        提示符表明此会话的活动语言是JavaScript。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当您在</font><font style="vertical-align: inherit;">没有host参数的情况下</font><font style="vertical-align: inherit;">运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlsh时</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，MySQL Shell会尝试连接到端口33060上localhost接口上运行的服务器实例。有关更多信息，请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-connections.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Shell连接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL Shell支持输入行编辑，如下所示：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左</font></font></strong></span><font style="vertical-align: inherit;"></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">箭头</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            键</font><font style="vertical-align: inherit;">和</font><span class="keycap"><strong><font style="vertical-align: inherit;">右箭头</font></strong></span><font style="vertical-align: inherit;">键在当前输入行内水平移动。
          </font></font></p></li><li class="listitem"><p>
            <span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向上</font></font></strong></span><font style="vertical-align: inherit;"></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">箭头</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            键</font><font style="vertical-align: inherit;">和</font><span class="keycap"><strong><font style="vertical-align: inherit;">向下箭头</font></strong></span><font style="vertical-align: inherit;">键在上一组输入的行中上下移动。
          </font></font></p></li><li class="listitem"><p>
            <span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退格键</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除光标前的字符，键入新字符将在光标位置输入。
          </font></font></p></li><li class="listitem"><p>
            <span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enter</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将当前输入行发送到服务器。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="mysql-shell-tutorial-javascript-shell-help"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取MySQL Shell的帮助</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在命令解释程序的提示符下</font><font style="vertical-align: inherit;">
        键入</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlsh --help</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获取命令行选项列表。
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>mysqlsh --help</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        键入</font></font><code class="literal">\help</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL的壳牌提示可用的命令及其说明的列表。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>\help</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        键入</font></font><code class="literal">\help</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后跟命令名称，以获取有关单个MySQL Shell命令的详细帮助。</font><font style="vertical-align: inherit;">例如，要查看</font></font><code class="literal">\connect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        命令的</font><font style="vertical-align: inherit;">帮助</font><font style="vertical-align: inherit;">，请键入：
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>\help \connect</code></strong>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="mysql-shell-tutorial-javascript-shell-quit"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出MySQL Shell</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要退出MySQL Shell，请键入以下命令：
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>\quit</code></strong>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091613105984"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关</font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-interactive-code-execution.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交互式代码执行</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            在MySQL Shell中如何工作的说明，</font><font style="vertical-align: inherit;">请参阅</font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-interactive-code-execution.html" target="_top"><font style="vertical-align: inherit;">交互式代码执行</font></a><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-getting-started.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Shell入门</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以了解会话和连接备选方案。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            请参见
             </font></font><a class="xref" href="programs.html#connecting-using-uri-or-key-value-pairs" title="4.2.4使用URI或键值对进行连接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.4节“使用URI或键值对进行连接”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以了解有关指定MySQL服务器位置的信息。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-javascript-documents-collections"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3文件和收藏</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-collections-operations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.1创建，列出和删除集合</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-collections-add"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.2添加文档</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-documents-find"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.3查找文件</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-documents-modify"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.4修改文件</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-documents-remove"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.5删除文件</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-indexes-create"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.6创建和删除索引</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL中，集合包含可以添加，查找，更新和删除的JSON文档。</font><font style="vertical-align: inherit;">集合是可以创建，列出和删除的模式中的容器。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节中的示例使用</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的countryinfo集合
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关设置</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库示例的说明，请参见
       </font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-javascript-download" title="20.3.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.3.1节“导入数据库示例”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<h4><a name="mysql-shell-tutorial-javascript-documents"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL中，文档表示为JSON对象。</font><font style="vertical-align: inherit;">在内部，它们以高效的二进制格式存储，可以快速查找和更新。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          JavaScript的简单文档格式：
        </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{field1：“value”，field2：10，“field 3”：null}
</font></font></pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      一组文档由一组用逗号分隔并包含在</font><font style="vertical-align: inherit;">字符</font></font><code class="literal">[</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字中</font><font style="vertical-align: inherit;">的文档组成</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          JavaScript的简单文档数组：
        </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[{姓名：“Aruba”，_id：“ABW”}，{姓名：“安哥拉”，_id：“AGO”}]
</font></font></pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL支持JSON文档中的以下JavaScript值类型：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          数字（整数和浮点数）
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          字符串
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          布尔值（False和True）
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          空值
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          更多JSON值的数组
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          嵌套（或嵌入）更多JSON值的对象
</font></font></p></li></ul>
</div>
<h4><a name="mysql-shell-tutorial-javascript-collections"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      集合是用于共享目的并且可能共享一个或多个索引的文档的容器。</font><font style="vertical-align: inherit;">每个集合都有一个唯一的名称，并存在于单个模式中。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      术语模式等同于数据库，这意味着一组数据库对象（与用于强制数据结构和约束的关系模式相对）。</font><font style="vertical-align: inherit;">架构不强制对集合中的文档进行一致性。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在本快速入门指南中：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          基本对象包括：
</font></font></p>
<div class="informaltable">
<table summary="Objects to use interactively in MySQL Shell"><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
              <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象形式</font></font></th>
              <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
            </tr></thead><tbody><tr>
              <td scope="row"><code class="literal">db</code></td>
              <td><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是分配给当前活动模式的全局变量。</font><font style="vertical-align: inherit;">如果要对架构运行操作（例如，要检索集合），可以使用可用于该</font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                变量的</font><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">。</font></font></td>
            </tr><tr>
              <td scope="row"><code class="literal">db.getCollections()</code></td>
              <td><a class="link" href="document-store.html#mysql-shell-tutorial-javascript-collections-get" title="列表集合"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">db.getCollections（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                包含模式中的集合列表。</font><font style="vertical-align: inherit;">使用列表获取对集合对象的引用，迭代它们，等等。</font></font></td>
</tr></tbody></table>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          集合的基本操作包括：
</font></font></p>
<div class="informaltable">
<table summary="CRUD operations available in X DevAPI"><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
              <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运作形式</font></font></th>
              <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
            </tr></thead><tbody><tr>
              <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.add()</code></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
                 </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-javascript-collections-add" title="20.3.3.2添加文档"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的add（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                方法插入一个文档或文档放到指定的集合列表。</font></font></td>
            </tr><tr>
              <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.find()</code></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
                 </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-javascript-documents-find" title="20.3.3.3查找文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发现（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                方法返回指定的集合中的部分或全部文件。</font></font></td>
            </tr><tr>
              <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.modify()</code></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
                 </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-javascript-documents-modify" title="20.3.3.4修改文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修改（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                指定的收集方法的更新文件。</font></font></td>
            </tr><tr>
              <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.remove()</code></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
                 </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-javascript-documents-remove" title="20.3.3.5删除文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                方法删除一个文件或从指定收集的文件清单。</font></font></td>
</tr></tbody></table>
</div>
</li></ul>
</div>
<h4><a name="idm140091613039888"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关</font><font style="vertical-align: inherit;">
          概述，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/devapi-users-working-with-collections.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用集合</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/mysql-x-crud-ebnf-definitions.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRUD EBNF定义</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了完整的操作列表。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-collections-operations"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.1创建，列出和删除集合</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL Shell中，您可以创建新集合，获取模式中现有集合的列表，以及从模式中删除现有集合。</font><font style="vertical-align: inherit;">集合名称区分大小写，每个集合名称必须唯一。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091613033664"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确认架构</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要显示分配给模式变量的值，请发出：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果架构值不是</font></font><code class="literal">Schema:world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则</font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过发出以下命令</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">变量：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>\use world_x</code></strong>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-javascript-collections-create"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个集合</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要在现有模式中创建新集合，请使用该
           </font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象的
           </font></font><code class="literal">createCollection()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">以下示例创建</font></font><code class="literal">flags</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">调用的集合</font><font style="vertical-align: inherit;">。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.createCollection("flags")</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该方法返回一个集合对象。
</font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;收集：标志&gt;</font></font></pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-javascript-collections-get"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表集合</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要显示</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          数据库中的</font><font style="vertical-align: inherit;">所有集合</font><font style="vertical-align: inherit;">，请使用</font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象的
           </font></font><code class="literal">getCollections()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">您当前连接的服务器返回的集合显示在括号中。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.getCollections()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;收集：countryinfo&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    &lt;收集：标志&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-javascript-collections-drop"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除一个集合</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要从数据库中删除现有集合，请使用该
           </font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象的
           </font></font><code class="literal">dropCollection()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">例如，要从</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          数据库中</font><font style="vertical-align: inherit;">删除flags集合</font><font style="vertical-align: inherit;">，请键入：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.dropCollection("flags")</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="literal">dropCollection()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法还在MySQL Shell中用于从数据库中删除关系表。

</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091613007040"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">更多示例，
 </font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/collection-objects.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合对象</font></font></a><font style="vertical-align: inherit;"></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-collections-add"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.2添加文档</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用该</font></font><code class="literal">add()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法使用MySQL Shell将一个文档或文档列表插入到现有集合中。</font><font style="vertical-align: inherit;">本节中的所有示例都使用</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        架构中</font><font style="vertical-align: inherit;">提供的countryinfo集合</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091613000912"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加文档</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将以下文档插入countryinfo集合中。</font><font style="vertical-align: inherit;">由于这是多行内容，请按</font><font style="vertical-align: inherit;">
          两次</font></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enter键</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以插入文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.add(<font></font>
 {<font></font>
    GNP: .6,<font></font>
    IndepYear: 1967,<font></font>
    Name: "Sealand",<font></font>
    demographics: {<font></font>
        LifeExpectancy: 79,<font></font>
        Population: 27<font></font>
    },<font></font>
    geography: {<font></font>
        Continent: "Europe",<font></font>
        Region: "British Islands",<font></font>
        SurfaceArea: 193<font></font>
    },<font></font>
    government: {<font></font>
        GovernmentForm: "Monarchy",<font></font>
        HeadOfState: "Michael Bates"<font></font>
    }<font></font>
  }<font></font>
)</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该方法返回操作的状态。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          每个文件需要所谓的标识符字段
           </font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">的值
           </font><font style="vertical-align: inherit;">在同一集合中的所有文档中必须是唯一的。</font><font style="vertical-align: inherit;">在MySQL 8.0.11及更高版本中，文档ID由服务器而不是客户端生成，因此MySQL Shell不会自动设置
           </font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果文档不包含该</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">，则8.0.11或更高版本的MySQL服务器会设置一个</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在早期8.0版本或5.7版本的MySQL服务器</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下</font><font style="vertical-align: inherit;">不设置
           </font><font style="vertical-align: inherit;">值，因此您必须明确指定它。</font><font style="vertical-align: inherit;">如果不这样做，MySQL Shell将返回错误5115 </font></font><span class="errortext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Document缺少必填字段</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612990800"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionaddfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CollectionAddFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              请参阅
               </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/understanding-automatic-document-ids.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解文档ID</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-documents-find"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.3查找文件</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从数据库中的集合中查询和返回文档。</font><font style="vertical-align: inherit;">MySQL Shell提供了与方法一起使用的其他方法，用于
         </font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤和排序返回的文档。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL提供以下操作符来指定搜索条件：</font></font><code class="literal">OR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="literal">||</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）， （
         </font></font><code class="literal">AND</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），</font></font><code class="literal">&amp;&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， ，
         </font></font><code class="literal">XOR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">IS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">NOT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">BETWEEN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">LIKE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">!=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&lt;&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&gt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&lt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">|</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&lt;&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&gt;&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，</font></font><code class="literal">-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         </font><font style="vertical-align: inherit;">，
        </font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">。
</font></font><code class="literal">*</code><font style="vertical-align: inherit;"></font><code class="literal">/</code><font style="vertical-align: inherit;"></font><code class="literal">~</code><font style="vertical-align: inherit;"></font><code class="literal">%</code><font style="vertical-align: inherit;"></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-javascript-documents-find-all"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找集合中的所有文档</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要返回集合中的所有文档，请使用该
           </font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法而不指定搜索条件。</font><font style="vertical-align: inherit;">例如，以下操作将返回countryinfo集合中的所有文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.find()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
     {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “GNP”：828，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “IndepYear”：null，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “名称”：“阿鲁巴”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “_id”：“ABW”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “LifeExpectancy”：78.4000015258789，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “人口”：103000</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “大陆”：“北美”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “地区”：“加勒比”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “SurfaceArea”：193</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “政府表格”：“荷兰非都会领土”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “HeadOfState”：“Beatrix”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
240套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          除了集合中的所有文档之外，该方法还生成包含操作信息的结果。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          空集（无匹配文档）返回以下信息：
        </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空集（0.00秒） 
</font></font></pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-javascript-documents-find-filter-searches"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤搜索</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用该</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">包含搜索条件
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">形成搜索条件的表达式的语法与传统MySQL </font></font><a class="xref" href="functions.html" title="第12章函数和操作符"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第12章，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数和运算符</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的语法相同</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您必须将所有表达式括在引号中。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          本节中的所有示例都使用</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的countryinfo集合</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为简洁起见，一些示例不显示输出。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          简单的搜索条件可以包括
           </font></font><code class="literal">Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段和我们知道的文档中的值。</font><font style="vertical-align: inherit;">以下示例返回单个文档：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("Name = 'Australia'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：351182，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：1901年，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名称”：“澳大利亚”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“AUS”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：79.80000305175781，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：18886000</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“大洋洲”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“澳大利亚和新西兰”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：7741220</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府形式”：“君主立宪制，联邦”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“伊丽莎白二世”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下示例搜索GNP高于5000亿美元的所有国家/地区。</font><font style="vertical-align: inherit;">countryinfo集合以百万为单位测量GNP。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-js&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("GNP &gt; 500000")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
10套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下查询中的“人口”字段嵌入在人口统计信息对象中。</font><font style="vertical-align: inherit;">要访问嵌入字段，请使用人口统计信息和人口统计之间的时间段来确定关系。</font><font style="vertical-align: inherit;">文档和字段名称区分大小写。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-js&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("GNP &gt; 500000 and demographics.Population &lt; 100000000")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下表达式中的算术运算符用于查询人均GNP高于$ 30000的国家/地区。</font><font style="vertical-align: inherit;">搜索条件可以包括算术运算符和大多数MySQL函数。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            countryinfo集合中的七个文档的人口值为零。</font><font style="vertical-align: inherit;">警告消息显示在输出的末尾。
</font></font></p>
</div>
<pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-js&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("GNP*1000000/demographics.Population &gt; 30000")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9套文件，7条警告（0.00秒）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用该</font></font><code class="literal">bind()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">将值与搜索条件分开</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，不是将硬编码的国家/地区名称指定为条件，而是替换命名的占位符，该占位符由冒号后跟以字母开头的名称组成，例如
           </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">country</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后使用
           </font><font style="vertical-align: inherit;">如下方法：
        </font></font><code class="literal">bind(<em class="replaceable"><code>placeholder</code></em>,
          <em class="replaceable"><code>value</code></em>)</code><font style="vertical-align: inherit;"></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("Name = :country").bind("country", "Italy")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：1161755，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：1861年，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名称”：“意大利”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“ITA”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：79，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：57680000</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“欧洲”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“南欧”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：301316</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府表格”：“共和国”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“Carlo Azeglio Ciampi”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.01秒）</font></font><font></font>
</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小费
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在程序中，绑定使您可以在表达式中指定占位符，这些占位符在执行之前用值填充，并且可以根据需要从自动转义中受益。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            始终使用绑定来清理输入。</font><font style="vertical-align: inherit;">避免在使用字符串连接的查询中引入值，这会产生无效输入，并且在某些情况下会导致安全问题。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用占位符和</font></font><code class="literal">bind()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法创建已保存的搜索，然后可以使用不同的值调用这些搜索。</font><font style="vertical-align: inherit;">例如，为国家/地区创建已保存的搜索：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-js&gt; </font></font><strong class="userinput"><code>var myFind = db.countryinfo.find("Name = :country")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql-js&gt;</font></font><strong class="userinput"><code>myFind.bind('country', 'France')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：1424285，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：843，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“法国”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“FRA”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：78.80000305175781，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：59225700</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“欧洲”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“西欧”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：551500</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府表格”：“共和国”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“Jacques Chirac”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.0028秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的-JS&gt; </font></font><strong class="userinput"><code>myFind.bind('country', 'Germany')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：2133367， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：1955年， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“德国”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“DEU”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：77.4000015258789， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：82164700</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“欧洲”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“西欧”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：357022</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府表格”：“联邦共和国”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“Johannes Rau”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.0026秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612925712"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目结果</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以返回文档的特定字段，而不是返回所有字段。</font><font style="vertical-align: inherit;">以下示例返回countryinfo集合中与搜索条件匹配的所有文档的GNP和Name字段。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用该</font></font><code class="literal">fields()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法传递要返回的字段列表。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("GNP &gt; 5000000").fields(["GNP", "Name"])</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：8510700，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“美国”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.00秒）</font></font><font></font>
 </pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此外，您可以使用描述要返回的文档的表达式更改返回的文档 - 添加，重命名，嵌套甚至计算新字段值。</font><font style="vertical-align: inherit;">例如，使用以下表达式更改字段的名称以仅返回两个文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.find().<font></font>
fields(mysqlx.expr('{"Name": upper(Name), "GNPPerCapita": GNP*1000000/demographics.Population}')).<font></font>
limit(2)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNPPerCapita”：8038.834951456311，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“ARUBA”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNPPerCapita”：263.0281690140845，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“阿富汗”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2套文件（0.00秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612918080"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制，排序和跳过结果</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以应用</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">sort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">skip()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法来管理由返回文档的数量和顺序</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的方法。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定结果集中包含的文档数，请将</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法附加值</font><font style="vertical-align: inherit;">附加</font><font style="vertical-align: inherit;">到</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中。</font><font style="vertical-align: inherit;">以下查询返回countryinfo集合中的前五个文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-js&gt; </font></font><strong class="userinput"><code>db.countryinfo.find().limit(5)</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定结果的顺序，请将</font></font><code class="literal">sort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">附加
           </font><font style="vertical-align: inherit;">到
           </font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">将</font></font><code class="literal">sort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个或多个字段的列表</font><font style="vertical-align: inherit;">传递给</font><font style="vertical-align: inherit;">方法，</font><font style="vertical-align: inherit;">以便根据
           </font><font style="vertical-align: inherit;">需要进行排序，并可选择地使用descending（</font></font><code class="literal">desc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）或ascending（</font></font><code class="literal">asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）属性。</font><font style="vertical-align: inherit;">升序是默认订单类型。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          例如，以下查询按IndepYear字段对所有文档进行排序，然后按降序返回前八个文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-js&gt; </font></font><strong class="userinput"><code>db.countryinfo.find().sort(["IndepYear desc"]).limit(8)</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          默认情况下，该</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从集合中的第一个文档开始。</font><font style="vertical-align: inherit;">您可以使用该
           </font></font><code class="literal">skip()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法更改起始文档。</font><font style="vertical-align: inherit;">例如，要忽略第一个文档并返回与条件匹配的下八个文档，请将</font></font><code class="literal">skip()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法1。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-js&gt; </font></font><strong class="userinput"><code>db.countryinfo.find().sort(["IndepYear desc"]).limit(8).skip(1)</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8套文件（0.00秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612897552"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在</font></font><a class="link" href="functions.html" title="第12章函数和操作符"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL参考手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的功能和运营商的详细文档。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionfindfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CollectionFindFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-documents-modify"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.4修改文件</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法更新集合中的一个或多个文档。</font><font style="vertical-align: inherit;">X DevAPI提供了与该</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        方法一起</font><font style="vertical-align: inherit;">使用的其他</font><font style="vertical-align: inherit;">方法：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            设置和取消设置文档中的字段。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            追加，插入和删除数组。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            绑定，限制和排序要修改的文档。
</font></font></p></li></ul>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612886672"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置和取消设置字段</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法通过过滤集合以仅包括要修改的文档，然后将您指定的操作应用于这些文档来工作。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在以下示例中，该</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法使用搜索条件来标识要更改的文档，然后该</font></font><code class="literal">set()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法替换嵌套的人口统计信息对象中的两个值。

          
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("_id = 'SEA'").\<font></font>
set("demographics", {LifeExpectancy: 78, Population: 28})</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.04秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          修改文档后，使用该</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法验证更改。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要从文档中删除内容，请使用
           </font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">unset()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法。</font><font style="vertical-align: inherit;">例如，以下查询从与搜索条件匹配的文档中删除GNP。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("Name = 'Sealand'").unset("GNP")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.01秒）   </font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用该</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法验证更改。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("Name = 'Sealand'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：1967年，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“西兰”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“SEA”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：78，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：28</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“欧洲”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“英属群岛”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：193</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府形式”：“君主制”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“Michael Bates”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.00秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612871584"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加，插入和删除数组</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在数组中的元素附加到阵列字段，或插入，或删除单元，使用
           </font></font><code class="literal">arrayAppend()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">arrayInsert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><code class="literal">arrayDelete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">以下示例修改countryinfo集合以启用对国际机场的跟踪。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          第一个示例使用</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="literal">set()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法在所有文档中创建新的Airports字段。
</font></font></p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            修改文档时请小心，而不指定搜索条件。</font><font style="vertical-align: inherit;">此操作将修改集合中的所有文档。
</font></font></p>
</div>
<pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("true").set("Airports", [])</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，受影响的240件（0.07秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          添加机场字段后，下一个示例使用该
           </font></font><code class="literal">arrayAppend()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法将新机场添加到其中一个文档。</font><font style="vertical-align: inherit;">以下示例中的</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ .Airports</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示当前文档的Airports字段。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("Name = 'France'").arrayAppend("$.Airports", "ORY")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.02秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用</font></font><strong class="userinput"><code>db.countryinfo.find("Name =
          'France'")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看更改。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要在数组中的不同位置插入元素，请使用该</font></font><code class="literal">arrayInsert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法指定要在路径表达式中插入的索引。</font><font style="vertical-align: inherit;">在这种情况下，索引是0，或者是数组中的第一个元素。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("Name = 'France'").arrayInsert("$.Airports[0]", "CDG")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.04秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要从数组中删除元素，必须将要删除的元素</font></font><code class="literal">arrayDelete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的索引</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("Name = 'France'").arrayDelete("$.Airports[1]")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.03秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612852464"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在</font></font><a class="link" href="data-types.html#json-paths" title="搜索和修改JSON值"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL参考手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了帮助您查找和修改JSON值。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionmodifyfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CollectionModifyFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-documents-remove"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.5删除文件</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">remove()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从数据库中的集合中删除部分或全部文档。</font><font style="vertical-align: inherit;">X DevAPI提供了与方法一起使用的其他方法，用于
         </font></font><code class="literal">remove()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤和排序要删除的文档。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612844432"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条件删除文档</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          下面的示例将搜索条件传递给
           </font></font><code class="literal">remove()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">符合条件的所有文档都将从countryinfo集合中删除。</font><font style="vertical-align: inherit;">在此示例中，一个文档与条件匹配。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.remove("_id = 'SEA'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.02秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612840544"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除第一个文档</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要删除countryinfo集合中的第一个文档，请使用</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值为1 </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">方法。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.remove("true").limit(1)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.03秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612836784"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除订单中的最后一个文档</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下示例按国家/地区名称删除countryinfo集合中的最后一个文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.remove("true").sort(["Name desc"]).limit(1)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.02秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612833696"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除集合中的所有文档</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以删除集合中的所有文档。</font><font style="vertical-align: inherit;">为此，请使用该</font></font><code class="literal">remove("true")</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法而不指定任何搜索条件。
</font></font></p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在不指定搜索条件的情况下删除文档时请小心。</font><font style="vertical-align: inherit;">此操作将删除集合中的所有文档。
</font></font></p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612830672"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionremovefunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CollectionRemoveFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              重新创建</font><font style="vertical-align: inherit;">数据库的</font><font style="vertical-align: inherit;">说明，
               </font><font style="vertical-align: inherit;">请参见
               </font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-javascript-download" title="20.3.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.3.1节“导入数据库示例”</font></font></a><font style="vertical-align: inherit;"></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-indexes-create"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.3.6创建和删除索引</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        索引用于快速查找具有特定字段值的文档。</font><font style="vertical-align: inherit;">如果没有索引，MySQL必须从第一个文档开始，然后读取整个集合以查找相关字段。</font><font style="vertical-align: inherit;">收集越大，成本越高。</font><font style="vertical-align: inherit;">如果集合很大并且特定字段上的查询很常见，那么请考虑在文档内的特定字段上创建索引。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例如，以下查询将使用索引执行得更好：
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-js&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("demographics.Population &lt; 100")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">createIndex()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法创建一个可以定义为非唯一或唯一的索引。</font><font style="vertical-align: inherit;">使用该
         </font></font><code class="literal">field()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法链接应编制索引的字段。</font></font><code class="literal">execute()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建或删除索引需要</font><font style="vertical-align: inherit;">该</font><font style="vertical-align: inherit;">方法。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL中，该</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段默认等效于主键。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612816192"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加非唯一索引</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要创建非唯一索引，请将</font></font><code class="literal">createIndex()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法名称</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">禁止复制索引名称。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在以下示例中，方法的第一个参数
           </font></font><code class="literal">field()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定人口统计信息对象内的人口字段，下一个参数指示该字段应编入索引为整数数值。</font><font style="vertical-align: inherit;">最后一个参数指示字段是否应该要求NOT NULL约束。</font><font style="vertical-align: inherit;">如果值为
           </font></font><code class="literal">false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则该字段可以包含
           </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.createIndex("pop").<font></font>
field("demographics.Population", "INTEGER", false).execute()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询正常（0.04秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612809424"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加唯一索引</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要创建唯一索引，请将</font></font><code class="literal">createIndex()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法名称和</font></font><code class="literal">mysqlx.IndexType.UNIQUE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Country
           </font></font><code class="literal">"Name"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是countryinfo集合中索引的另一个常见字段。</font><font style="vertical-align: inherit;">在以下示例中，
           </font></font><code class="literal">"Text(40)"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示要索引的字符数，并</font></font><code class="literal">true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示该字段不能包含任何</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.createIndex("name", mysqlx.IndexType.UNIQUE).<font></font>
field("Name", "TEXT(40)", true).execute()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询正常（0.04秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612801920"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除索引</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要删除索引，请将要删除的索引</font></font><code class="literal">dropIndex()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          的名称</font><font style="vertical-align: inherit;">传递给</font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">例如，您可以删除</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pop</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引，如下所示：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.dropIndex("pop").execute()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询正常（0.58秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612797680"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              完整语法定义，</font><font style="vertical-align: inherit;">请参阅
               </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-index-management-functions.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合索引管理函数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。

              
</font></font></p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-javascript-relational-tables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4关系表</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-table-insert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4.1将记录插入表中</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-table-select"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4.2选择表格</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-table-update"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4.3更新表</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-javascript-table-delete"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4.4删除表</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可以使用MySQL Shell不仅可以操作JSON文档，还可以操作关系表。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL中，每个关系表都与特定的存储引擎相关联。</font><font style="vertical-align: inherit;">本节中的示例使用
       </font><font style="vertical-align: inherit;">数据库中的</font></font><a class="link" href="innodb-storage-engine.html" title="第15章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表
       </font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<h4><a name="idm140091612789536"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确认架构</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要显示分配给模式变量的值，请键入
       </font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果架构值不是</font></font><code class="literal">Schema:world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则按如下方式</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">变量：
    </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>\use world_x</code></strong>
</pre>
<h4><a name="idm140091612782560"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示所有表格</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要显示</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      数据库</font><font style="vertical-align: inherit;">中的所有关系表</font><font style="vertical-align: inherit;">，请使用</font></font><code class="literal">getTables()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构对象上的方法。
    </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.getTables()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “城市”：&lt;表：城市&gt;，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “country”：&lt;表：国家&gt;，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “countrylanguage”：&lt;表：countrylanguage&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
}</font></font><font></font>
</pre>
<h4><a name="idm140091612778096"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本表操作</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      表格规定的基本操作包括：
</font></font></p>
<div class="informaltable">
<table summary="CRUD operations to use interactively on tables within MySQL Shell"><colgroup><col width="32%"><col width="68%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运作形式</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.insert()</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述
             </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-javascript-table-insert" title="20.3.4.1将记录插入表中"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入件（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            方法插入一个或多个记录到指定的表。</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.select()</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
             </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-javascript-table-select" title="20.3.4.2选择表格"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            方法返回的指定表中的部分或全部记录。</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.update()</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
             </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-javascript-table-update" title="20.3.4.3更新表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            方法的更新记录的指定表中。</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.delete()</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
             </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-javascript-table-delete" title="20.3.4.4删除表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            方法删除指定表中的一个或多个记录。</font></font></td>
</tr></tbody></table>
</div>
<h4><a name="idm140091612753968"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关</font><font style="vertical-align: inherit;">
          概述，</font><font style="vertical-align: inherit;">请参阅
           </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/devapi-users-working-with-relational-tables.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用关系表</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/mysql-x-crud-ebnf-definitions.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRUD EBNF定义</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了完整的操作列表。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关</font><font style="vertical-align: inherit;">
          设置</font><font style="vertical-align: inherit;">
          数据库示例的</font><font style="vertical-align: inherit;">说明</font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-javascript-download" title="20.3.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="document-store.html#mysql-shell-tutorial-javascript-download" title="20.3.1导入数据库示例"><font style="vertical-align: inherit;">第20.3.1节“导入数据库示例”</font></a></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-table-insert"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4.1将记录插入表中</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以将该</font></font><code class="literal">insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法与该
         </font></font><code class="literal">values()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法一起</font><font style="vertical-align: inherit;">使用，</font><font style="vertical-align: inherit;">以将记录插入现有的关系表中。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        方法接受表中的各列或所有列。</font><font style="vertical-align: inherit;">使用一种或多种</font></font><code class="literal">values()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法指定要插入的值。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612742624"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入完整记录</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要插入完整记录，请将</font></font><code class="literal">insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中的所有</font><font style="vertical-align: inherit;">列传递给
           </font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">然后将</font></font><code class="literal">values()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中每列的一个值</font><font style="vertical-align: inherit;">传递给</font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">例如，要将新记录添加到</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的城市表</font><font style="vertical-align: inherit;">，请插入以下记录并按</font><font style="vertical-align: inherit;">
          两次</font></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enter键</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.insert("ID", "Name", "CountryCode", "District", "Info").<font></font>
values(null, "Olympia", "USA", "Washington", '{"Population": 5000}')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.01秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          city表有五列：ID，Name，CountryCode，District和Info。</font><font style="vertical-align: inherit;">每个值必须与其表示的列的数据类型匹配。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612735856"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入部分记录</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下示例将值插入到city表的ID，Name和CountryCode列中。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.insert("ID", "Name", "CountryCode").<font></font>
values(null, "Little Falls", "USA").values(null, "Happy Valley", "USA")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，2项受影响（0.03秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用该</font></font><code class="literal">insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法</font><font style="vertical-align: inherit;">指定列时</font><font style="vertical-align: inherit;">，值的数量必须与列数匹配。</font><font style="vertical-align: inherit;">在上一个示例中，您必须提供三个值以匹配指定的三个列。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612731456"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-table-crud-functions.html#crud-ebnf-tableinsertfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TableInsertFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-table-select"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4.2选择表格</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从数据库中的表中查询和返回记录。</font><font style="vertical-align: inherit;">X DevAPI提供了与方法一起使用的其他方法，用于
         </font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤和排序返回的记录。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL提供以下操作符来指定搜索条件：</font></font><code class="literal">OR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="literal">||</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）， （
         </font></font><code class="literal">AND</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），</font></font><code class="literal">&amp;&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， ，
         </font></font><code class="literal">XOR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">IS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">NOT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">BETWEEN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">LIKE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">!=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&lt;&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&gt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&lt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">|</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&lt;&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&gt;&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，</font></font><code class="literal">-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         </font><font style="vertical-align: inherit;">，
        </font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">。
</font></font><code class="literal">*</code><font style="vertical-align: inherit;"></font><code class="literal">/</code><font style="vertical-align: inherit;"></font><code class="literal">~</code><font style="vertical-align: inherit;"></font><code class="literal">%</code><font style="vertical-align: inherit;"></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612706864"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择所有记录</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要发出返回现有表中所有记录的查询，请使用该</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法而不指定搜索条件。</font><font style="vertical-align: inherit;">以下示例选择</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">city表中的所有记录
           </font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将空</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            方法</font><font style="vertical-align: inherit;">的使用限制</font><font style="vertical-align: inherit;">为交互式语句。</font><font style="vertical-align: inherit;">始终在应用程序代码中使用显式列名选择。
</font></font></p>
</div>
<pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.select()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ + ------------- + ------------ +  - ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ID | </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode | </font><font style="vertical-align: inherit;">区| </font><font style="vertical-align: inherit;">信息|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ + ------------- + ------------ +  - ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">喀布尔| </font><font style="vertical-align: inherit;">AFG | </font><font style="vertical-align: inherit;">Kabol | {“人口”：1780000} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">2 | </font><font style="vertical-align: inherit;">坎大哈| </font><font style="vertical-align: inherit;">AFG | </font><font style="vertical-align: inherit;">坎大哈| {“人口”：237500} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3 | </font><font style="vertical-align: inherit;">赫拉特| </font><font style="vertical-align: inherit;">AFG | </font><font style="vertical-align: inherit;">赫拉特| {“人口”：186800} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...... ...... ......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">4079 | </font><font style="vertical-align: inherit;">拉法| </font><font style="vertical-align: inherit;">PSE | </font><font style="vertical-align: inherit;">拉法| {“人口”：92020} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------- ---- + ------------- + ------------ + --- ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4082行（0.01秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          空集（无匹配记录）返回以下信息：
        </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空集（0.00秒）
</font></font></pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612698848"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤搜索</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要发出返回一组表列的查询，请使用该
           </font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法并指定要在方括号之间返回的列。</font><font style="vertical-align: inherit;">此查询返回city表中的Name和CountryCode列。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"])</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">喀布尔| </font><font style="vertical-align: inherit;">AFG |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">坎大哈| </font><font style="vertical-align: inherit;">AFG |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">赫拉特| </font><font style="vertical-align: inherit;">AFG |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Mazar-e-Sharif | </font><font style="vertical-align: inherit;">AFG |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Amsterdam | </font><font style="vertical-align: inherit;">NLD |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">拉法| </font><font style="vertical-align: inherit;">PSE |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">奥林匹亚| </font><font style="vertical-align: inherit;">美国|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">小瀑布| </font><font style="vertical-align: inherit;">美国|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">欢乐谷| </font><font style="vertical-align: inherit;">美国|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4082行（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要发出返回与特定搜索条件匹配的行的查询，请使用该</font></font><code class="literal">where()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法包含这些条件。</font><font style="vertical-align: inherit;">例如，以下示例返回以字母Z开头的城市的名称和国家/地区代码。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"]).where("Name like 'Z%'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">赞斯塔德| </font><font style="vertical-align: inherit;">NLD |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zoetermeer | </font><font style="vertical-align: inherit;">NLD |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">兹沃勒| </font><font style="vertical-align: inherit;">NLD |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zenica | </font><font style="vertical-align: inherit;">BIH |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zagazig | </font><font style="vertical-align: inherit;">EGY |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">萨拉戈萨| </font><font style="vertical-align: inherit;">ESP |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">三宝颜| </font><font style="vertical-align: inherit;">PHL |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zahedan | </font><font style="vertical-align: inherit;">IRN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">赞詹| </font><font style="vertical-align: inherit;">IRN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zabol | </font><font style="vertical-align: inherit;">IRN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zama | </font><font style="vertical-align: inherit;">JPN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zhezqazghan | </font><font style="vertical-align: inherit;">KAZ |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">郑州| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zeleznogorsk | </font><font style="vertical-align: inherit;">RUS |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
59行（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用该</font></font><code class="literal">bind()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">将值与搜索条件分开</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，不是使用“Name ='Z％'”作为条件，而是替换一个命名的占位符，该占位符由冒号后跟一个以字母开头的名称组成，例如</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后在</font></font><code class="literal">bind()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中</font><font style="vertical-align: inherit;">包含占位符和值，
           </font><font style="vertical-align: inherit;">如下所示：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"]).<font></font>
              where("Name like :name").bind("name", "Z%")</code></strong>
</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小费
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在程序中，绑定使您可以在表达式中指定占位符，这些占位符在执行之前用值填充，并且可以根据需要从自动转义中受益。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            始终使用绑定来清理输入。</font><font style="vertical-align: inherit;">避免在使用字符串连接的查询中引入值，这会产生无效输入，并且在某些情况下会导致安全问题。
</font></font></p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612684640"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目结果</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要使用</font></font><a class="link" href="functions.html#operator_and"><code class="literal">AND</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          运算符</font><font style="vertical-align: inherit;">发出查询</font><font style="vertical-align: inherit;">，请在</font></font><code class="literal">where()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中的</font><font style="vertical-align: inherit;">搜索条件之间添加运算符
           </font><font style="vertical-align: inherit;">。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"]).<font></font>
               where("Name like 'Z%' and CountryCode = 'CHN'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">郑州| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">淄博| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">张家口| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">株洲| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">张江| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">自贡| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">枣庄| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">张家港| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
22行（0.01秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定多个条件运算符，可以将搜索条件括在括号中以更改运算符优先级。</font><font style="vertical-align: inherit;">下面的示例演示的布局</font></font><a class="link" href="functions.html#operator_and"><code class="literal">AND</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="functions.html#operator_or"><code class="literal">OR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运营商。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"]).<font></font>
where("Name like 'Z%' and (CountryCode = 'CHN' or CountryCode = 'RUS')")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">郑州| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">淄博| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">张家口| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">株洲| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zeleznogorsk | </font><font style="vertical-align: inherit;">RUS |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
29行（0.01秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612673632"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限价，订单和抵消结果</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以应用</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">orderBy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">offSet()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法来管理由返回的记录的数量和顺序</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的方法。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定结果集中包含的记录数，请将</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法附加值</font><font style="vertical-align: inherit;">附加</font><font style="vertical-align: inherit;">到</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中。</font><font style="vertical-align: inherit;">例如，以下查询返回国家/地区表中的前五个记录。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.country.select(["Code", "Name"]).limit(5)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">代码| </font><font style="vertical-align: inherit;">名称|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ABW | </font><font style="vertical-align: inherit;">阿鲁巴|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">AFG | </font><font style="vertical-align: inherit;">阿富汗|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">AGO | </font><font style="vertical-align: inherit;">安哥拉|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">友邦保险| </font><font style="vertical-align: inherit;">安圭拉|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ALB | </font><font style="vertical-align: inherit;">阿尔巴尼亚|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5行（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定结果的顺序，请将</font></font><code class="literal">orderBy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">附加
           </font><font style="vertical-align: inherit;">到
           </font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">将</font></font><code class="literal">orderBy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个或多个列的列表</font><font style="vertical-align: inherit;">传递给</font><font style="vertical-align: inherit;">方法以进行排序，并根据需要将descending（</font></font><code class="literal">desc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）或ascending（</font></font><code class="literal">asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）属性</font><font style="vertical-align: inherit;">（可选</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">传递给它
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">升序是默认订单类型。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          例如，以下查询按名称列对所有记录进行排序，然后按降序返回前三个记录。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.country.select(["Code", "Name"]).orderBy(["Name desc"]).limit(3)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">代码| </font><font style="vertical-align: inherit;">名称|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ZWE | </font><font style="vertical-align: inherit;">津巴布韦|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ZMB | </font><font style="vertical-align: inherit;">赞比亚|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">YUG | </font><font style="vertical-align: inherit;">南斯拉夫|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3组（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          默认情况下，该</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从表中的第一个记录开始。</font><font style="vertical-align: inherit;">您可以使用该
           </font></font><code class="literal">offset()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法更改起始记录。</font><font style="vertical-align: inherit;">例如，要忽略第一个记录并返回与条件匹配的下三个记录，请将</font></font><code class="literal">offset()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法1。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.country.select(["Code", "Name"]).orderBy(["Name desc"]).limit(3).offset(1)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">代码| </font><font style="vertical-align: inherit;">名称|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ZMB | </font><font style="vertical-align: inherit;">赞比亚|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">YUG | </font><font style="vertical-align: inherit;">南斯拉夫|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">YEM | </font><font style="vertical-align: inherit;">也门|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3组（0.00秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612654000"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在</font></font><a class="link" href="functions.html" title="第12章函数和操作符"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL参考手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的功能和运营商的详细文档。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-table-crud-functions.html#crud-ebnf-tableselectfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TableSelectFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-table-update"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4.3更新表</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法修改表中的一个或多个记录。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        方法通过过滤查询以仅包括要更新的记录，然后将您指定的操作应用于这些记录来工作。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要替换城市表中的城市名称，</font></font><code class="literal">set()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请将新城市名称</font><font style="vertical-align: inherit;">传递给
         </font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">然后，传递给</font></font><code class="literal">where()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">城市名称定位和替换的方法。</font><font style="vertical-align: inherit;">以下示例将北京城市替换为北京。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.update().set("Name", "Beijing").where("Name = 'Peking'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.04秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用该</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法验证更改。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.select(["ID", "Name", "CountryCode", "District", "Info"]).where("Name = 'Beijing'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- ------------- + + ---------- + ----- ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ID | </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode | </font><font style="vertical-align: inherit;">区| </font><font style="vertical-align: inherit;">信息|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- ------------- + + ---------- + ----- ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1891年| </font><font style="vertical-align: inherit;">北京| </font><font style="vertical-align: inherit;">CHN | </font><font style="vertical-align: inherit;">北京| </font><font style="vertical-align: inherit;">{“人口”：7472000} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- ------------- + + ---------- + ----- ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1排（0.00秒）</font></font><font></font>
</pre>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612638976"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-table-crud-functions.html#crud-ebnf-tableupdatefunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TableUpdateFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-javascript-table-delete"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.4.4删除表</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从数据库中的表中删除部分或全部记录。</font><font style="vertical-align: inherit;">X DevAPI提供了与方法一起使用的其他方法，用于
         </font></font><code class="literal">delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤和排序要删除的记录。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612632720"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条件删除记录</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          下面的示例将搜索条件传递给
           </font></font><code class="literal">delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">符合条件的所有记录都将从city表中删除。</font><font style="vertical-align: inherit;">在此示例中，一条记录与条件匹配。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.delete().where("Name = 'Olympia'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.01秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612628896"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除第一条记录</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要删除city表中的第一条记录，请使用</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值为1 </font><font style="vertical-align: inherit;">的
           </font><font style="vertical-align: inherit;">方法。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.delete().limit(1)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.02秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612625168"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除表中的所有记录</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以删除表中的所有记录。</font><font style="vertical-align: inherit;">为此，请在</font></font><code class="literal">delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不指定搜索条件的情况下</font><font style="vertical-align: inherit;">使用该
           </font><font style="vertical-align: inherit;">方法。
</font></font></p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            删除记录时请小心，而不指定搜索条件。</font><font style="vertical-align: inherit;">此操作将删除表中的所有记录。
</font></font></p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612622144"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放一张桌子</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="literal">dropCollection()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法还在MySQL Shell中用于从数据库中删除关系表。</font><font style="vertical-align: inherit;">例如，要从</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">删除citytest表
           </font><font style="vertical-align: inherit;">，请键入：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>session.dropCollection("world_x", "citytest")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询正常（0.04秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612617616"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-table-crud-functions.html#crud-ebnf-tabledeletefunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TableDeleteFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              重新创建</font><font style="vertical-align: inherit;">数据库的</font><font style="vertical-align: inherit;">说明，
               </font><font style="vertical-align: inherit;">请参见
               </font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-javascript-download" title="20.3.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.3.1节“导入数据库示例”</font></font></a><font style="vertical-align: inherit;"></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-javascript-documents-in-tables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.3.5表格中的文件</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL中，表可能包含传统的关系数据，JSON值或两者。</font><font style="vertical-align: inherit;">您可以将文档存储在具有本机</font></font><a class="link" href="data-types.html#json" title="11.6 JSON数据类型"><code class="literal">JSON</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据类型的</font><font style="vertical-align: inherit;">列中，从而将传统数据与JSON文档相结合
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节中的示例使用</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的city表
       </font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="idm140091612607888"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">城市表描述</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        城市表有五列（或字段）。
      </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ --------------- + ------------ + ------- ------- + ---- + ----- + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">领域| </font><font style="vertical-align: inherit;">输入| </font><font style="vertical-align: inherit;">空| </font><font style="vertical-align: inherit;">钥匙| </font><font style="vertical-align: inherit;">默认| </font><font style="vertical-align: inherit;">额外的|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + ------------ + ------- ------- + ---- + ----- + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ID | </font><font style="vertical-align: inherit;">int（11）| </font><font style="vertical-align: inherit;">没有| </font><font style="vertical-align: inherit;">PRI | </font><font style="vertical-align: inherit;">null | </font><font style="vertical-align: inherit;">auto_increment |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">char（35）| </font><font style="vertical-align: inherit;">没有| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">CountryCode | </font><font style="vertical-align: inherit;">char（3）| </font><font style="vertical-align: inherit;">没有| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">区| </font><font style="vertical-align: inherit;">char（20）| </font><font style="vertical-align: inherit;">没有| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">信息| </font><font style="vertical-align: inherit;">json | </font><font style="vertical-align: inherit;">是的| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">null | </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + ------------ + ------- ------- + ---- + ----- + ------------------ +</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091612604576"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入记录</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要将文档插入表的列，请传递给
        </font></font><code class="literal">values()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按正确的顺序</font><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">格式良好的JSON文档。</font><font style="vertical-align: inherit;">在以下示例中，将文档作为要插入Info列的最终值传递。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.insert().<font></font>
values(null, "San Francisco", "USA", "California", '{"Population":830000}')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.01秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091612600640"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择一个记录</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用搜索条件发出查询，该搜索条件评估表达式中的文档值。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.city.select(["ID", "Name", "CountryCode", "District", "Info"]).<font></font>
  where("CountryCode = :country and Info-&gt;'$.Population' &gt; 1000000").<font></font>
  bind('country', 'USA')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ---------------- + ------------- ----------- + ----- + ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ID | </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode | </font><font style="vertical-align: inherit;">区| </font><font style="vertical-align: inherit;">信息|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ---------------- + ------------- ----------- + ----- + ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3793 | </font><font style="vertical-align: inherit;">纽约| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">纽约| </font><font style="vertical-align: inherit;">{“人口”：8008278} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3794 | </font><font style="vertical-align: inherit;">洛杉矶| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">加州| </font><font style="vertical-align: inherit;">{“人口”：3694820} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3795 | </font><font style="vertical-align: inherit;">芝加哥| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">伊利诺伊州 </font><font style="vertical-align: inherit;">{“人口”：2896016} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3796 | </font><font style="vertical-align: inherit;">休斯顿| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">德克萨斯州 </font><font style="vertical-align: inherit;">{“人口”：1953631} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3797 | </font><font style="vertical-align: inherit;">费城| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">宾州| </font><font style="vertical-align: inherit;">{“人口”：1517550} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3798 | </font><font style="vertical-align: inherit;">凤凰城| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">Arizona | </font><font style="vertical-align: inherit;">{“人口”：1321045} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3799 | </font><font style="vertical-align: inherit;">圣地亚哥| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">加州| </font><font style="vertical-align: inherit;">{“人口”：1223400} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3800 | </font><font style="vertical-align: inherit;">达拉斯| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">德克萨斯州 </font><font style="vertical-align: inherit;">{“人口”：1188580} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3801 | </font><font style="vertical-align: inherit;">圣安东尼奥| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">德克萨斯州 </font><font style="vertical-align: inherit;">{“人口”：1144646} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ---------------- + ------------- ----------- + ----- + ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9行（0.01秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091612596304"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关</font><font style="vertical-align: inherit;">
            概述，</font><font style="vertical-align: inherit;">请参阅
             </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/devapi-users-working-with-relational-tables-and-documents.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用关系表和文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关</font></font><a class="xref" href="data-types.html#json" title="11.6 JSON数据类型"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据类型</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的详细说明，</font><font style="vertical-align: inherit;">请参见</font><a class="xref" href="data-types.html#json" title="11.6 JSON数据类型"><font style="vertical-align: inherit;">第11.6节“JSON数据类型”</font></a><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="mysql-shell-tutorial-python"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4 Python快速入门指南：用于文档存储的MySQL Shell</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-download"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.1导入数据库示例</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-shell"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.2 MySQL Shell</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-documents-collections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3文件和收藏</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-relational-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4关系表</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-documents-in-tables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.5表格中的文件</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本快速入门指南提供了使用MySQL Shell以交互方式开始构建文档存储应用程序原型的说明。</font><font style="vertical-align: inherit;">该指南包括以下主题：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL功能，MySQL Shell和
         </font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库示例简介。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        管理集合和文档的操作。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        管理关系表的操作。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        适用于表中文档的操作。
</font></font></p></li></ul>
</div>
<h3><a name="idm140091612585440"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h3>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
        <a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Shell 8.0（MySQL 8.0的一部分）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了有关MySQL Shell的更多深入信息。
      </font></font></p></li><li class="listitem"><p>
        <a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X DevAPI用户指南</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了使用X DevAPI的更多示例。
      </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        一个
         </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-javascript" title="20.3 JavaScript快速入门指南：用于文档存储的MySQL Shell"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        快速入门指南也可以。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-python-download"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.1导入数据库示例</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      该</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库样本包含一个JSON收集和一组三个关系表：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          采集
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              countryinfo：有关世界各国的信息。
</font></font></p></li></ul>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          表
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              country：关于世界各国的最少信息。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              city：有关这些国家/地区的部分城市的信息。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              countrylanguage：每个国家/地区使用的语言。
</font></font></p></li></ul>
</div>
</li></ul>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091612570848"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要求</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要遵循这个快速入门指南，您需要一个安装了X插件的MySQL服务器，8.0中的默认设置和用作客户端的MySQL Shell。</font><font style="vertical-align: inherit;">请参阅
         </font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-install.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安装MySQL Shell</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在加载</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本指南</font><font style="vertical-align: inherit;">的示例</font><font style="vertical-align: inherit;">数据库</font><font style="vertical-align: inherit;">之前启动MySQL </font><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091612567920"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载并导入world_x数据库</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要准备</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库示例，请按照下列步骤操作：
</font></font></p>
<div class="orderedlist">
<ol class="orderedlist" type="1"><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            下载
             </font></font><a class="ulink" href="http://downloads.mysql.com/docs/world_x-db.zip" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">world_x-db.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将安装存档解压缩到临时位置，例如</font></font><code class="filename">/tmp/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">解压缩归档会产生一个名为的文件
             </font></font><code class="filename">world_x.sql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将</font></font><code class="filename">world_x.sql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">导入</font><font style="vertical-align: inherit;">数据库。</font><font style="vertical-align: inherit;">你可以：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在SQL模式下启动MySQL Shell并通过发出以下命令导入文件：
              </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>mysqlsh -u root --sql --file /tmp/world_x-db/world_x.sql</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
输入密码： </font></font><strong class="userinput"><code>****</code></strong>
</pre></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                在MySQL Shell运行时将MySQL Shell设置为SQL模式，并在MySQL Shell运行时通过发出以下命令来获取模式文件：
              </font></font></p><pre data-lang="mysqlsh" class="programlisting"><strong class="userinput"><code>\source /tmp/world_x-db/world_x.sql</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
切换到SQL模式...命令以;结尾;</font></font><font></font>
<strong class="userinput"><code>\source /tmp/world_x-db/world_x.sql</code></strong>
</pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            替换</font></font><code class="filename">/tmp/</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code class="filename">world_x.sql</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统上文件</font><font style="vertical-align: inherit;">的路径
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">出现提示时输入密码。</font><font style="vertical-align: inherit;">只要帐户具有创建新数据库的权限，就可以使用非root帐户。
</font></font></p></li></ol>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091612550384"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-sessions.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Shell Sessions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解释了会话类型。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关</font><font style="vertical-align: inherit;">常规安装帮助</font></font><a class="xref" href="installing.html" title="第2章安装和升级MySQL"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><i><font style="vertical-align: inherit;"></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="installing.html" title="第2章安装和升级MySQL"><font style="vertical-align: inherit;">第2章，</font></a><a class="xref" href="installing.html" title="第2章安装和升级MySQL"><i><font style="vertical-align: inherit;">安装和升级MySQL</font></i></a><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-python-shell"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.2 MySQL Shell</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL Shell是MySQL Server的统一脚本接口。</font><font style="vertical-align: inherit;">它支持JavaScript和Python中的脚本。</font><font style="vertical-align: inherit;">JavaScript是默认的处理模式。</font><font style="vertical-align: inherit;">在大多数情况下，您需要一个帐户才能连接到MySQL服务器实例。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="mysql-shell-tutorial-python-shell-start"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启动MySQL Shell</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        安装并启动MySQL服务器后，将MySQL Shell连接到服务器实例。</font><font style="vertical-align: inherit;">默认情况下，MySQL Shell使用X协议进行连接。</font><font style="vertical-align: inherit;">您需要知道您计划连接的MySQL服务器实例的地址。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果MySQL Shell尚未运行，请打开终端窗口并发出：
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>mysqlsh <em class="replaceable"><code>name</code></em>@localhost/world_x</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> --py
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        或者，如果MySQL Shell已经运行，请使用以下
         </font></font><code class="literal">\connect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令：
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><strong class="userinput"><code>\connect <em class="replaceable"><code>name</code></em>@<em class="replaceable"><code>host</code></em>/world_x</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您需要指定要将MySQL Shell连接到的MySQL服务器实例的地址。</font><font style="vertical-align: inherit;">例如，在前面的示例中：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <em class="replaceable"><code>name</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 代表您的MySQL帐户的用户名。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            MySQL Shell会提示您输入密码。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            该</font></font><code class="literal">--py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项以Python模式启动MySQL Shell。</font><font style="vertical-align: inherit;">如果省略</font></font><code class="literal">--py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，MySQL Shell将以JavaScript模式启动。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            此会话的默认架构是
             </font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库。</font><font style="vertical-align: inherit;">有关设置</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库示例的说明，请参见</font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-python-download" title="20.4.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.4.1节“导入数据库示例”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL Shell打开后，</font></font><code class="literal">mysql-py&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        提示符表明此会话的活动语言是Python。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt;
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        当您在</font><font style="vertical-align: inherit;">没有host参数的情况下</font><font style="vertical-align: inherit;">运行</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlsh时</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，MySQL Shell会尝试连接到端口33060上localhost接口上运行的服务器实例。有关更多信息，请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-connections.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Shell连接</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL Shell支持输入行编辑，如下所示：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
            <span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左</font></font></strong></span><font style="vertical-align: inherit;"></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">箭头</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            键</font><font style="vertical-align: inherit;">和</font><span class="keycap"><strong><font style="vertical-align: inherit;">右箭头</font></strong></span><font style="vertical-align: inherit;">键在当前输入行内水平移动。
          </font></font></p></li><li class="listitem"><p>
            <span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向上</font></font></strong></span><font style="vertical-align: inherit;"></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">箭头</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            键</font><font style="vertical-align: inherit;">和</font><span class="keycap"><strong><font style="vertical-align: inherit;">向下箭头</font></strong></span><font style="vertical-align: inherit;">键在上一组输入的行中上下移动。
          </font></font></p></li><li class="listitem"><p>
            <span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退格键</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除光标前的字符，键入新字符将在光标位置输入。
          </font></font></p></li><li class="listitem"><p>
            <span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enter</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将当前输入行发送到服务器。
</font></font></p></li></ul>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="mysql-shell-tutorial-python-shell-help"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取MySQL Shell的帮助</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在命令解释程序的提示符下</font><font style="vertical-align: inherit;">
        键入</font></font><span class="command"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlsh --help</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获取命令行选项列表。
      </font></font></p><pre data-lang="terminal" class="programlisting"><strong class="userinput"><code>mysqlsh --help</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        键入</font></font><code class="literal">\help</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在MySQL的壳牌提示可用的命令及其说明的列表。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>\help</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        键入</font></font><code class="literal">\help</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后跟命令名称，以获取有关单个MySQL Shell命令的详细帮助。</font><font style="vertical-align: inherit;">例如，要查看</font></font><code class="literal">\connect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        命令的</font><font style="vertical-align: inherit;">帮助</font><font style="vertical-align: inherit;">，请键入：
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>\help \connect</code></strong>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="mysql-shell-tutorial-python-shell-quit"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出MySQL Shell</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要退出MySQL Shell，请键入以下命令：
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>\quit</code></strong>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091612500352"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关</font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-interactive-code-execution.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交互式代码执行</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            在MySQL Shell中如何工作的说明，</font><font style="vertical-align: inherit;">请参阅</font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-interactive-code-execution.html" target="_top"><font style="vertical-align: inherit;">交互式代码执行</font></a><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/mysql-shell/8.0/en/mysql-shell-getting-started.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL Shell入门</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以了解会话和连接备选方案。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            请参见
             </font></font><a class="xref" href="programs.html#connecting-using-uri-or-key-value-pairs" title="4.2.4使用URI或键值对进行连接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4.2.4节“使用URI或键值对进行连接”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以了解有关指定MySQL服务器位置的信息。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-python-documents-collections"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3文件和收藏</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-collections-operations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.1创建，列出和删除集合</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-documents-add"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.2添加文档</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-documents-find"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.3查找文档</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-documents-modify"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.4修改文件</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-documents-remove"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.5删除文件</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-documents-index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.6创建和删除索引</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL中，集合包含可以添加，查找，更新和删除的JSON文档。</font><font style="vertical-align: inherit;">集合是可以创建，列出和删除的模式中的容器。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节中的示例使用</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的countryinfo集合
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关设置</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库示例的说明，请参见
       </font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-python-download" title="20.4.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.4.1节“导入数据库示例”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<h4><a name="mysql-shell-tutorial-python-documents"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL中，文档表示为JSON对象。</font><font style="vertical-align: inherit;">在内部，它们以高效的二进制格式存储，可以快速查找和更新。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          Python的简单文档格式：
        </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{“field1”：“value”，“field2”：10，“field 3”：null}
</font></font></pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      一组文档由一组用逗号分隔并包含在</font><font style="vertical-align: inherit;">字符</font></font><code class="literal">[</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字中</font><font style="vertical-align: inherit;">的文档组成</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          Python的简单文档数组：
        </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[{“姓名”：“Aruba”，“_ id”：“ABW”}，{“姓名”：“安哥拉”，“_ id”：“AGO”}]
</font></font></pre></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      MySQL支持JSON文档中的以下Python值类型：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          数字（整数和浮点数）
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          字符串
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          布尔值（False和True）
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          没有
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          更多JSON值的数组
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          嵌套（或嵌入）更多JSON值的对象
</font></font></p></li></ul>
</div>
<h4><a name="mysql-shell-tutorial-python-collections"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      集合是用于共享目的并且可能共享一个或多个索引的文档的容器。</font><font style="vertical-align: inherit;">每个集合都有一个唯一的名称，并存在于单个模式中。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      术语模式等同于数据库，这意味着一组数据库对象（与用于强制数据结构和约束的关系模式相对）。</font><font style="vertical-align: inherit;">架构不强制对集合中的文档进行一致性。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在本快速入门指南中：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          基本对象包括：
</font></font></p>
<div class="informaltable">
<table summary="Objects to use interactively in MySQL Shell"><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
              <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象形式</font></font></th>
              <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
            </tr></thead><tbody><tr>
              <td scope="row"><code class="literal">db</code></td>
              <td><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是分配给当前活动模式的全局变量。</font><font style="vertical-align: inherit;">如果要对架构运行操作（例如，要检索集合），可以使用可用于该</font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                变量的</font><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">。</font></font></td>
            </tr><tr>
              <td scope="row"><code class="literal">db.get_collections()</code></td>
              <td><a class="link" href="document-store.html#mysql-shell-tutorial-python-collections-get" title="列表集合"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">db.get_collections（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                包含模式中的集合列表。</font><font style="vertical-align: inherit;">使用列表获取对集合对象的引用，迭代它们，等等。</font></font></td>
</tr></tbody></table>
</div>
</li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          集合的基本操作包括：
</font></font></p>
<div class="informaltable">
<table summary="CRUD operations available in X DevAPI"><colgroup><col width="40%"><col width="60%"></colgroup><thead><tr>
              <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运作形式</font></font></th>
              <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
            </tr></thead><tbody><tr>
              <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.add()</code></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
                 </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-python-documents-add" title="20.4.3.2添加文档"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的add（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                方法插入一个文档或文档放到指定的集合列表。</font></font></td>
            </tr><tr>
              <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.find()</code></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
                 </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-python-documents-find" title="20.4.3.3查找文档"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发现（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                方法返回指定的集合中的部分或全部文件。</font></font></td>
            </tr><tr>
              <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.modify()</code></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
                 </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-python-documents-modify" title="20.4.3.4修改文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修改（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                指定的收集方法的更新文件。</font></font></td>
            </tr><tr>
              <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.remove()</code></td>
              <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
                 </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-python-documents-remove" title="20.4.3.5删除文件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                方法删除一个文件或从指定收集的文件清单。</font></font></td>
</tr></tbody></table>
</div>
</li></ul>
</div>
<h4><a name="idm140091612434528"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关</font><font style="vertical-align: inherit;">
          概述，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/devapi-users-working-with-collections.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用集合</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/mysql-x-crud-ebnf-definitions.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRUD EBNF定义</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了完整的操作列表。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-collections-operations"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.1创建，列出和删除集合</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL Shell中，您可以创建新集合，获取模式中现有集合的列表，以及从模式中删除现有集合。</font><font style="vertical-align: inherit;">集合名称区分大小写，每个集合名称必须唯一。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612428304"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确认架构</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要显示分配给模式变量的值，请发出：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          如果架构值不是</font></font><code class="literal">Schema:world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则设置</font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通过发出以下命令</font><font style="vertical-align: inherit;">变量：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>\use world_x</code></strong>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-python-collections-create"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建一个集合</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要在现有模式中创建新集合，请使用该
           </font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象的
           </font></font><code class="literal">createCollection()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">以下示例创建</font></font><code class="literal">flags</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">调用的集合</font><font style="vertical-align: inherit;">。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.create_collection("flags")</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该方法返回一个集合对象。
</font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;收集：标志&gt;</font></font></pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-python-collections-get"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表集合</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要显示</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          数据库中的</font><font style="vertical-align: inherit;">所有集合</font><font style="vertical-align: inherit;">，请使用</font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象的
           </font></font><code class="literal">get_collections()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">您当前连接的服务器返回的集合显示在括号中。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.get_collections()</code></strong>
<code class="computeroutput">[<font></font>
    &lt;Collection:countryinfo&gt;,<font></font>
    &lt;Collection:flags&gt;<font></font>
]</code>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-python-collections-drop"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除一个集合</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要从数据库中删除现有集合，请使用该
           </font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对象的
           </font></font><code class="literal">drop_collection()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">例如，要从</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          数据库中</font><font style="vertical-align: inherit;">删除flags集合</font><font style="vertical-align: inherit;">，请键入：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>session.drop_collection("world_x", "flags")</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="literal">drop_collection()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法还在MySQL Shell中用于从数据库中删除关系表。

</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612401072"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">更多示例，
 </font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/collection-objects.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合对象</font></font></a><font style="vertical-align: inherit;"></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-documents-add"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.2添加文档</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用该</font></font><code class="literal">add()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法使用MySQL Shell将一个文档或文档列表插入到现有集合中。</font><font style="vertical-align: inherit;">本节中的所有示例都使用</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        架构中</font><font style="vertical-align: inherit;">提供的countryinfo集合</font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612394880"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加文档</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          将以下文档插入countryinfo集合中。</font><font style="vertical-align: inherit;">由于这是多行内容，请按</font><font style="vertical-align: inherit;">
          两次</font></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enter键</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以插入文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.add(<font></font>
 {<font></font>
    GNP: .6,<font></font>
    IndepYear: 1967,<font></font>
    Name: "Sealand",<font></font>
    demographics: {<font></font>
        LifeExpectancy: 79,<font></font>
        Population: 27<font></font>
    },<font></font>
    geography: {<font></font>
        Continent: "Europe",<font></font>
        Region: "British Islands",<font></font>
        SurfaceArea: 193<font></font>
    },<font></font>
    government: {<font></font>
        GovernmentForm: "Monarchy",<font></font>
        HeadOfState: "Michael Bates"<font></font>
    }<font></font>
  }<font></font>
)</code></strong>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该方法返回操作的状态。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          每个文件需要所谓的标识符字段
           </font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">的值
           </font><font style="vertical-align: inherit;">在同一集合中的所有文档中必须是唯一的。</font><font style="vertical-align: inherit;">在MySQL 8.0.11及更高版本中，文档ID由服务器而不是客户端生成，因此MySQL Shell不会自动设置
           </font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果文档不包含该</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">，则8.0.11或更高版本的MySQL服务器会设置一个</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在早期8.0版本或5.7版本的MySQL服务器</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在这种情况下</font><font style="vertical-align: inherit;">不设置
           </font><font style="vertical-align: inherit;">值，因此您必须明确指定它。</font><font style="vertical-align: inherit;">如果不这样做，MySQL Shell将返回错误5115 </font></font><span class="errortext"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Document缺少必填字段</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612384816"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionaddfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CollectionAddFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              请参阅
               </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/understanding-automatic-document-ids.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解文档ID</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-documents-find"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.3查找文档</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从数据库中的集合中查询和返回文档。</font><font style="vertical-align: inherit;">MySQL Shell提供了与方法一起使用的其他方法，用于
         </font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤和排序返回的文档。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL提供以下操作符来指定搜索条件：</font></font><code class="literal">OR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="literal">||</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）， （
         </font></font><code class="literal">AND</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），</font></font><code class="literal">&amp;&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， ，
         </font></font><code class="literal">XOR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">IS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">NOT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">BETWEEN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">LIKE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">!=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&lt;&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&gt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&lt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">|</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&lt;&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&gt;&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，</font></font><code class="literal">-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         </font><font style="vertical-align: inherit;">，
        </font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">。
</font></font><code class="literal">*</code><font style="vertical-align: inherit;"></font><code class="literal">/</code><font style="vertical-align: inherit;"></font><code class="literal">~</code><font style="vertical-align: inherit;"></font><code class="literal">%</code><font style="vertical-align: inherit;"></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-python-documents-find-all"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找集合中的所有文档</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要返回集合中的所有文档，请使用该
           </font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法而不指定搜索条件。</font><font style="vertical-align: inherit;">例如，以下操作将返回countryinfo集合中的所有文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.find()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
     {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “GNP”：828，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “IndepYear”：null，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “名称”：“阿鲁巴”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “_id”：“ABW”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “LifeExpectancy”：78.4000015258789，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “人口”：103000</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “大陆”：“北美”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “地区”：“加勒比”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “SurfaceArea”：193</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “政府表格”：“荷兰非都会领土”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              “HeadOfState”：“Beatrix”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
240套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          除了集合中的所有文档之外，该方法还生成包含操作信息的结果。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          空集（无匹配文档）返回以下信息：
        </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空集（0.00秒） 
</font></font></pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="mysql-shell-tutorial-python-documents-find-filter-searches"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤搜索</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用该</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">包含搜索条件
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">形成搜索条件的表达式的语法与传统MySQL </font></font><a class="xref" href="functions.html" title="第12章函数和操作符"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第12章，</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数和运算符</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的语法相同</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您必须将所有表达式括在引号中。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          本节中的所有示例都使用</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的countryinfo集合</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">为简洁起见，一些示例不显示输出。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          简单的搜索条件可以包括
           </font></font><code class="literal">Name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段和我们知道的文档中的值。</font><font style="vertical-align: inherit;">以下示例返回单个文档：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("Name = 'Australia'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：351182，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：1901年，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名称”：“澳大利亚”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“AUS”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：79.80000305175781，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：18886000</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“大洋洲”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“澳大利亚和新西兰”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：7741220</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府形式”：“君主立宪制，联邦”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“伊丽莎白二世”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下示例搜索GNP高于5000亿美元的所有国家/地区。</font><font style="vertical-align: inherit;">countryinfo集合以百万为单位测量GNP。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-py&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("GNP &gt; 500000")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
10套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下查询中的“人口”字段嵌入在人口统计信息对象中。</font><font style="vertical-align: inherit;">要访问嵌入字段，请使用人口统计信息和人口统计之间的时间段来确定关系。</font><font style="vertical-align: inherit;">文档和字段名称区分大小写。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-py&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("GNP &gt; 500000 and demographics.Population &lt; 100000000")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下表达式中的算术运算符用于查询人均GNP高于$ 30000的国家/地区。</font><font style="vertical-align: inherit;">搜索条件可以包括算术运算符和大多数MySQL函数。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            countryinfo集合中的七个文档的人口值为零。</font><font style="vertical-align: inherit;">警告消息显示在输出的末尾。
</font></font></p>
</div>
<pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-py&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("GNP*1000000/demographics.Population &gt; 30000")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9套文件，7条警告（0.00秒）</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告（代码1365）：除以0</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用该</font></font><code class="literal">bind()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">将值与搜索条件分开</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，不是将硬编码的国家/地区名称指定为条件，而是替换命名的占位符，该占位符由冒号后跟以字母开头的名称组成，例如
           </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">country</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后使用
           </font><font style="vertical-align: inherit;">如下方法：
        </font></font><code class="literal">bind(<em class="replaceable"><code>placeholder</code></em>,
          <em class="replaceable"><code>value</code></em>)</code><font style="vertical-align: inherit;"></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("Name = :country").bind("country", "Italy")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：1161755，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：1861年，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名称”：“意大利”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“ITA”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：79，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：57680000</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“欧洲”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“南欧”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：301316</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府表格”：“共和国”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“Carlo Azeglio Ciampi”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.01秒）</font></font><font></font>
</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小费
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在程序中，绑定使您可以在表达式中指定占位符，这些占位符在执行之前用值填充，并且可以根据需要从自动转义中受益。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            始终使用绑定来清理输入。</font><font style="vertical-align: inherit;">避免在使用字符串连接的查询中引入值，这会产生无效输入，并且在某些情况下会导致安全问题。
</font></font></p>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用占位符和</font></font><code class="literal">bind()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法创建已保存的搜索，然后可以使用不同的值调用这些搜索。</font><font style="vertical-align: inherit;">例如，为国家/地区创建已保存的搜索：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-py&gt; </font></font><strong class="userinput"><code>myFind = db.countryinfo.find("Name = :country")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysql-py&gt;</font></font><strong class="userinput"><code>myFind.bind('country', 'France')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：1424285，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：843，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“法国”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“FRA”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：78.80000305175781，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：59225700</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“欧洲”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“西欧”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：551500</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府表格”：“共和国”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“Jacques Chirac”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.0028秒）</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MySQL的-PY&gt; </font></font><strong class="userinput"><code>myFind.bind('country', 'Germany')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：2133367， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：1955年， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“德国”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“DEU”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：77.4000015258789， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：82164700</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“欧洲”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“西欧”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：357022</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府表格”：“联邦共和国”， </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“Johannes Rau”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.0026秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612320336"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目结果</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以返回文档的特定字段，而不是返回所有字段。</font><font style="vertical-align: inherit;">以下示例返回countryinfo集合中与搜索条件匹配的所有文档的GNP和Name字段。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用该</font></font><code class="literal">fields()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法传递要返回的字段列表。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("GNP &gt; 5000000").fields(["GNP", "Name"])</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNP”：8510700，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“美国”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.00秒）</font></font><font></font>
 </pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          此外，您可以使用描述要返回的文档的表达式更改返回的文档 - 添加，重命名，嵌套甚至计算新字段值。</font><font style="vertical-align: inherit;">例如，使用以下表达式更改字段的名称以仅返回两个文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.find().\<font></font>
fields(mysqlx.expr('{"Name": upper(Name), "GNPPerCapita": GNP*1000000/demographics.Population}')).\<font></font>
limit(2)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNPPerCapita”：8038.834951456311，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“ARUBA”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “GNPPerCapita”：263.0281690140845，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“阿富汗”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2套文件（0.00秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612312704"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限制，排序和跳过结果</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以应用</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">sort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">skip()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法来管理由返回文档的数量和顺序</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的方法。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定结果集中包含的文档数，请将</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法附加值</font><font style="vertical-align: inherit;">附加</font><font style="vertical-align: inherit;">到</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中。</font><font style="vertical-align: inherit;">以下查询返回countryinfo集合中的前五个文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-py&gt; </font></font><strong class="userinput"><code>db.countryinfo.find().limit(5)</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定结果的顺序，请将</font></font><code class="literal">sort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">附加
           </font><font style="vertical-align: inherit;">到
           </font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">将</font></font><code class="literal">sort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个或多个字段的列表</font><font style="vertical-align: inherit;">传递给</font><font style="vertical-align: inherit;">方法，</font><font style="vertical-align: inherit;">以便根据
           </font><font style="vertical-align: inherit;">需要进行排序，并可选择地使用descending（</font></font><code class="literal">desc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）或ascending（</font></font><code class="literal">asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）属性。</font><font style="vertical-align: inherit;">升序是默认订单类型。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          例如，以下查询按IndepYear字段对所有文档进行排序，然后按降序返回前八个文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-py&gt; </font></font><strong class="userinput"><code>db.countryinfo.find().sort(["IndepYear desc"]).limit(8)</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          默认情况下，该</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从集合中的第一个文档开始。</font><font style="vertical-align: inherit;">您可以使用该
           </font></font><code class="literal">skip()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法更改起始文档。</font><font style="vertical-align: inherit;">例如，要忽略第一个文档并返回与条件匹配的下八个文档，请将</font></font><code class="literal">skip()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法1。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-py&gt; </font></font><strong class="userinput"><code>db.countryinfo.find().sort(["IndepYear desc"]).limit(8).skip(1)</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8套文件（0.00秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612292224"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在</font></font><a class="link" href="functions.html" title="第12章函数和操作符"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL参考手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的功能和运营商的详细文档。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionfindfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CollectionFindFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-documents-modify"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.4修改文件</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法更新集合中的一个或多个文档。</font><font style="vertical-align: inherit;">X DevAPI提供了与该</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        方法一起</font><font style="vertical-align: inherit;">使用的其他</font><font style="vertical-align: inherit;">方法：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            设置和取消设置文档中的字段。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            追加，插入和删除数组。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            绑定，限制和排序要修改的文档。
</font></font></p></li></ul>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612281344"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置和取消设置字段</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法通过过滤集合以仅包括要修改的文档，然后将您指定的操作应用于这些文档来工作。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在以下示例中，该</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法使用搜索条件来标识要更改的文档，然后该</font></font><code class="literal">set()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法替换嵌套的人口统计信息对象中的两个值。

          
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("_id = 'SEA'").\<font></font>
set("demographics", {"LifeExpectancy": 78, "Population": 28})</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.04秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          修改文档后，使用该</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法验证更改。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要从文档中删除内容，请使用
           </font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">unset()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法。</font><font style="vertical-align: inherit;">例如，以下查询从与搜索条件匹配的文档中删除GNP。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("Name = 'Sealand'").unset("GNP")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.01秒）   </font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用该</font></font><code class="literal">find()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法验证更改。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("Name = 'Sealand'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “IndepYear”：1967年，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “名字”：“西兰”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “_id”：“SEA”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “人口统计资料”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “LifeExpectancy”：78，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “人口”：28</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “地理”：{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “大陆”：“欧洲”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “地区”：“英属群岛”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “SurfaceArea”：193</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        “政府”： {</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “政府形式”：“君主制”，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            “HeadOfState”：“Michael Bates”</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    }</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1套文件（0.00秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612266336"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加，插入和删除数组</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在数组中的元素附加到阵列字段，或插入，或删除单元，使用
           </font></font><code class="literal">array_append()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">array_insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
           </font></font><code class="literal">array_delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">以下示例修改countryinfo集合以启用对国际机场的跟踪。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          第一个示例使用</font></font><code class="literal">modify()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><code class="literal">set()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法在所有文档中创建新的Airports字段。
</font></font></p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            修改文档时请小心，而不指定搜索条件。</font><font style="vertical-align: inherit;">此操作将修改集合中的所有文档。
</font></font></p>
</div>
<pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify(True).set("Airports", [])</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，受影响的240件（0.07秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          添加机场字段后，下一个示例使用该
           </font></font><code class="literal">array_append()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法将新机场添加到其中一个文档。</font><font style="vertical-align: inherit;">以下示例中的</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ .Airports</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示当前文档的Airports字段。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("Name = 'France'").array_append("$.Airports", "ORY")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.02秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用</font></font><strong class="userinput"><code>db.countryinfo.find("Name =
          'France'")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看更改。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要在数组中的不同位置插入元素，请使用该</font></font><code class="literal">array_insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法指定要在路径表达式中插入的索引。</font><font style="vertical-align: inherit;">在这种情况下，索引是0，或者是数组中的第一个元素。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("Name = 'France'").array_insert("$.Airports[0]", "CDG")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.04秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要从数组中删除元素，必须将要删除的元素</font></font><code class="literal">array_delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的索引</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.modify("Name = 'France'").array_delete("$.Airports[1]")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.03秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612247216"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在</font></font><a class="link" href="data-types.html#json-paths" title="搜索和修改JSON值"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL参考手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了帮助您查找和修改JSON值。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionmodifyfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CollectionModifyFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-documents-remove"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.5删除文件</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">remove()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从数据库中的集合中删除部分或全部文档。</font><font style="vertical-align: inherit;">X DevAPI提供了与方法一起使用的其他方法，用于
         </font></font><code class="literal">remove()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤和排序要删除的文档。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612239184"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条件删除文档</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          下面的示例将搜索条件传递给
           </font></font><code class="literal">remove()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">符合条件的所有文档都将从countryinfo集合中删除。</font><font style="vertical-align: inherit;">在此示例中，一个文档与条件匹配。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.remove("_id = 'SEA'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.02秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612235296"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除第一个文档</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要删除countryinfo集合中的第一个文档，请使用</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值为1 </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">方法。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.remove(True).limit(1)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.03秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612231536"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除订单中的最后一个文档</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下示例按国家/地区名称删除countryinfo集合中的最后一个文档。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.countryinfo.remove(True).sort(["Name desc"]).limit(1)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.02秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612228448"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除集合中的所有文档</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以删除集合中的所有文档。</font><font style="vertical-align: inherit;">为此，请在</font></font><code class="literal">remove(True)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不指定搜索条件的情况下</font><font style="vertical-align: inherit;">使用该</font><font style="vertical-align: inherit;">方法。
</font></font></p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在不指定搜索条件的情况下删除文档时请小心。</font><font style="vertical-align: inherit;">此操作将删除集合中的所有文档。
</font></font></p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612225424"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-crud-functions.html#crud-ebnf-collectionremovefunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CollectionRemoveFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              重新创建</font><font style="vertical-align: inherit;">数据库的</font><font style="vertical-align: inherit;">说明，
               </font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-python-download" title="20.4.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.4.1节“导入数据库示例”</font></font></a><font style="vertical-align: inherit;"></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-documents-index"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.3.6创建和删除索引</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        索引用于快速查找具有特定字段值的文档。</font><font style="vertical-align: inherit;">如果没有索引，MySQL必须从第一个文档开始，然后读取整个集合以查找相关字段。</font><font style="vertical-align: inherit;">收集越大，成本越高。</font><font style="vertical-align: inherit;">如果集合很大并且特定字段上的查询很常见，那么请考虑在文档内的特定字段上创建索引。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        例如，以下查询将使用索引执行得更好：
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysql-js&gt; </font></font><strong class="userinput"><code>db.countryinfo.find("demographics.Population &lt; 100")</code></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... [ </font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出已删除</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8套文件（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        该</font></font><code class="literal">create_index()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法创建一个可以定义为非唯一或唯一的索引。</font><font style="vertical-align: inherit;">使用该
         </font></font><code class="literal">field()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法链接应编制索引的字段。</font></font><code class="literal">execute()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建或删除索引需要</font><font style="vertical-align: inherit;">该</font><font style="vertical-align: inherit;">方法。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        在MySQL中，该</font></font><code class="literal">_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段默认等效于主键。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612211456"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加非唯一索引</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要创建非唯一索引，请将</font></font><code class="literal">create_index()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法名称</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">禁止复制索引名称。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          在以下示例中，方法的第一个参数
           </font></font><code class="literal">field()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定人口统计信息对象内的人口字段，下一个参数指示该字段应编入索引为整数数值。</font><font style="vertical-align: inherit;">最后一个参数指示字段是否应该要求NOT NULL约束。</font><font style="vertical-align: inherit;">如果值为
           </font></font><code class="literal">False</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则该字段可以包含
           </font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.create_index("pop").\<font></font>
field("demographics.Population", "INTEGER", False).execute()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询正常（0.04秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612204688"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加唯一索引</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要创建唯一索引，请将</font></font><code class="literal">create_index()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法名称和</font></font><code class="literal">mysqlx.IndexType.UNIQUE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Country
           </font></font><code class="literal">"Name"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是countryinfo集合中索引的另一个常见字段。</font><font style="vertical-align: inherit;">在以下示例中，
           </font></font><code class="literal">"Text(40)"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示要索引的字符数，并</font></font><code class="literal">True</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指示该字段不能包含任何</font></font><code class="literal">NULL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.create_index("name", mysqlx.IndexType.UNIQUE).\<font></font>
field("Name", "TEXT(40)", True).execute()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询正常（0.04秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612197168"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除索引</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要删除索引，请将要删除的索引</font></font><code class="literal">drop_index()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          的名称</font><font style="vertical-align: inherit;">传递给</font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">例如，您可以删除</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pop</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">索引，如下所示：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-JS&gt; </font></font><strong class="userinput"><code>db.countryinfo.drop_index("pop").execute()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询正常（0.58秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612192976"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              完整语法定义，</font><font style="vertical-align: inherit;">请参阅
               </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-collection-index-management-functions.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合索引管理函数</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。

              
</font></font></p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-python-relational-tables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4关系表</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-table-insert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4.1将记录插入表中</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-table-select"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4.2选择表</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-table-update"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4.3更新表</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#mysql-shell-tutorial-python-table-delete"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4.4删除表</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可以使用MySQL Shell不仅可以操作JSON文档，还可以操作关系表。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL中，每个关系表都与特定的存储引擎相关联。</font><font style="vertical-align: inherit;">本节中的示例使用
       </font><font style="vertical-align: inherit;">数据库中的</font></font><a class="link" href="innodb-storage-engine.html" title="第15章InnoDB存储引擎"><code class="literal">InnoDB</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表
       </font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
<h4><a name="idm140091612184832"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确认架构</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要显示分配给模式变量的值，请键入
       </font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;架构：world_x&gt;</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果架构值不是</font></font><code class="literal">Schema:world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      数据库，</font></font><code class="literal">db</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">则按如下方式</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">变量：
    </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>\use world_x</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可通过db访问的架构`world_x`。</font></font><font></font>
</pre>
<h4><a name="idm140091612177792"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示所有表格</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要显示</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      数据库</font><font style="vertical-align: inherit;">中的所有关系表</font><font style="vertical-align: inherit;">，请使用</font></font><code class="literal">get_tables()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">架构对象上的方法。
    </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.get_tables()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “城市”：&lt;表：城市&gt;，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “country”：&lt;表：国家&gt;，</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    “countrylanguage”：&lt;表：countrylanguage&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
}</font></font><font></font>
</pre>
<h4><a name="idm140091612173264"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本表操作</font></font></h4>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      表格规定的基本操作包括：
</font></font></p>
<div class="informaltable">
<table summary="CRUD operations to use interactively on tables within MySQL Shell"><colgroup><col width="32%"><col width="68%"></colgroup><thead><tr>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运作形式</font></font></th>
          <th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font></font></th>
        </tr></thead><tbody><tr>
          <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.insert()</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所述
             </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-python-table-insert" title="20.4.4.1将记录插入表中"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入件（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            方法插入一个或多个记录到指定的表。</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.select()</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
             </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-python-table-select" title="20.4.4.2选择表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            方法返回的指定表中的部分或全部记录。</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.update()</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
             </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-python-table-update" title="20.4.4.3更新表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            方法的更新记录的指定表中。</font></font></td>
        </tr><tr>
          <td scope="row"><code class="literal">db.<em class="replaceable"><code>name</code></em>.delete()</code></td>
          <td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该
             </font></font><a class="link" href="document-store.html#mysql-shell-tutorial-python-table-delete" title="20.4.4.4删除表"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除（）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
            方法删除指定表中的一个或多个记录。</font></font></td>
</tr></tbody></table>
</div>
<h4><a name="idm140091612149072"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          看到
          </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/devapi-users-working-with-relational-tables.html" target="_top"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          概述，</font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/devapi-users-working-with-relational-tables.html" target="_top"><font style="vertical-align: inherit;">使用关系表</font></a><font style="vertical-align: inherit;">。
        </font></font></p></li><li class="listitem"><p>
          <a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/mysql-x-crud-ebnf-definitions.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRUD EBNF定义</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供了完整的操作列表。
        </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          有关</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">
          数据库示例的</font><font style="vertical-align: inherit;">说明</font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-python-download" title="20.4.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请参见</font><a class="xref" href="document-store.html#mysql-shell-tutorial-python-download" title="20.4.1导入数据库示例"><font style="vertical-align: inherit;">第20.4.1节“导入数据库示例”</font></a></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-table-insert"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4.1将记录插入表中</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以将该</font></font><code class="literal">insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法与该
         </font></font><code class="literal">values()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法一起</font><font style="vertical-align: inherit;">使用，</font><font style="vertical-align: inherit;">以将记录插入现有的关系表中。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        方法接受表中的各列或所有列。</font><font style="vertical-align: inherit;">使用一种或多种</font></font><code class="literal">values()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法指定要插入的值。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612137760"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入完整记录</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要插入完整记录，请将</font></font><code class="literal">insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表中的所有</font><font style="vertical-align: inherit;">列传递给
           </font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">然后将</font></font><code class="literal">values()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每列</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">传递给</font><font style="vertical-align: inherit;">方法一个值。</font><font style="vertical-align: inherit;">例如，要将新记录添加到</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的城市表</font><font style="vertical-align: inherit;">，请插入以下记录并按</font><font style="vertical-align: inherit;">两次</font></font><span class="keycap"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enter键</font></font></strong></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.insert("ID", "Name", "CountryCode", "District", "Info").\<font></font>
values(None, "Olympia", "USA", "Washington", '{"Population": 5000}')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.01秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          city表有五列：ID，Name，CountryCode，District和Info。</font><font style="vertical-align: inherit;">每个值必须与其表示的列的数据类型匹配。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612131024"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入部分记录</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          以下示例将值插入到city表的ID，Name和CountryCode列中。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.insert("ID", "Name", "CountryCode").\<font></font>
values(None, "Little Falls", "USA").values(None, "Happy Valley", "USA")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，2项受影响（0.03秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          使用该</font></font><code class="literal">insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法</font><font style="vertical-align: inherit;">指定列时</font><font style="vertical-align: inherit;">，值的数量必须与列数匹配。</font><font style="vertical-align: inherit;">在上一个示例中，您必须提供三个值以匹配指定的三个列。
</font></font></p>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612126624"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-table-crud-functions.html#crud-ebnf-tableinsertfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TableInsertFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-table-select"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4.2选择表</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从数据库中的表中查询和返回记录。</font><font style="vertical-align: inherit;">X DevAPI提供了与其一起使用的其他方法
        </font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤和排序返回的记录。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        MySQL提供以下操作符来指定搜索条件：</font></font><code class="literal">OR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="literal">||</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）， （
         </font></font><code class="literal">AND</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），</font></font><code class="literal">&amp;&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， ，
         </font></font><code class="literal">XOR</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">IS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">NOT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">BETWEEN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">IN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">LIKE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">!=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&lt;&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&gt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&lt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">|</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">&lt;&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">&gt;&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
         </font></font><code class="literal">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">，</font></font><code class="literal">-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         </font><font style="vertical-align: inherit;">，
        </font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">。
</font></font><code class="literal">*</code><font style="vertical-align: inherit;"></font><code class="literal">/</code><font style="vertical-align: inherit;"></font><code class="literal">~</code><font style="vertical-align: inherit;"></font><code class="literal">%</code><font style="vertical-align: inherit;"></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612102032"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择所有记录</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要发出返回现有表中所有记录的查询，请使用该</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法而不指定搜索条件。</font><font style="vertical-align: inherit;">以下示例选择</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">city表中的所有记录
           </font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            将空</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            方法</font><font style="vertical-align: inherit;">的使用限制</font><font style="vertical-align: inherit;">为交互式语句。</font><font style="vertical-align: inherit;">始终在应用程序代码中使用显式列名选择。
</font></font></p>
</div>
<pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.select()</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ + ------------- + ------------ +  - ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ID | </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode | </font><font style="vertical-align: inherit;">区| </font><font style="vertical-align: inherit;">信息|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ + ------------- + ------------ +  - ----------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">喀布尔| </font><font style="vertical-align: inherit;">AFG | </font><font style="vertical-align: inherit;">Kabol | {“人口”：1780000} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">2 | </font><font style="vertical-align: inherit;">坎大哈| </font><font style="vertical-align: inherit;">AFG | </font><font style="vertical-align: inherit;">坎大哈| {“人口”：237500} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3 | </font><font style="vertical-align: inherit;">赫拉特| </font><font style="vertical-align: inherit;">AFG | </font><font style="vertical-align: inherit;">赫拉特| {“人口”：186800} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...... ...... ......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">4079 | </font><font style="vertical-align: inherit;">拉法| </font><font style="vertical-align: inherit;">PSE | </font><font style="vertical-align: inherit;">拉法| {“人口”：92020} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------- ---- + ------------- + ------------ + --- ---------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4082行（0.01秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          空集（无匹配记录）返回以下信息：
        </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">空集（0.00秒）
</font></font></pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612094016"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤搜索</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要发出返回一组表列的查询，请使用该
           </font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法并指定要在方括号之间返回的列。</font><font style="vertical-align: inherit;">此查询返回city表中的Name和CountryCode列。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"])</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">喀布尔| </font><font style="vertical-align: inherit;">AFG |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">坎大哈| </font><font style="vertical-align: inherit;">AFG |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">赫拉特| </font><font style="vertical-align: inherit;">AFG |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Mazar-e-Sharif | </font><font style="vertical-align: inherit;">AFG |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Amsterdam | </font><font style="vertical-align: inherit;">NLD |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">拉法| </font><font style="vertical-align: inherit;">PSE |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">奥林匹亚| </font><font style="vertical-align: inherit;">美国|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">小瀑布| </font><font style="vertical-align: inherit;">美国|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">欢乐谷| </font><font style="vertical-align: inherit;">美国|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4082行（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要发出返回与特定搜索条件匹配的行的查询，请使用该</font></font><code class="literal">where()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法包含这些条件。</font><font style="vertical-align: inherit;">例如，以下示例返回以字母Z开头的城市的名称和国家/地区代码。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"]).where("Name like 'Z%'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">赞斯塔德| </font><font style="vertical-align: inherit;">NLD |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zoetermeer | </font><font style="vertical-align: inherit;">NLD |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">兹沃勒| </font><font style="vertical-align: inherit;">NLD |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zenica | </font><font style="vertical-align: inherit;">BIH |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zagazig | </font><font style="vertical-align: inherit;">EGY |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">萨拉戈萨| </font><font style="vertical-align: inherit;">ESP |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">三宝颜| </font><font style="vertical-align: inherit;">PHL |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zahedan | </font><font style="vertical-align: inherit;">IRN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">赞詹| </font><font style="vertical-align: inherit;">IRN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zabol | </font><font style="vertical-align: inherit;">IRN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zama | </font><font style="vertical-align: inherit;">JPN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zhezqazghan | </font><font style="vertical-align: inherit;">KAZ |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">郑州| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zeleznogorsk | </font><font style="vertical-align: inherit;">RUS |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
59行（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以使用该</font></font><code class="literal">bind()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">将值与搜索条件分开</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">例如，不是使用“Name ='Z％'”作为条件，而是替换一个命名的占位符，该占位符由冒号后跟一个以字母开头的名称组成，例如</font></font><span class="emphasis"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name</font></font></em></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后在中包含占位符和值
          </font></font><code class="literal">bind()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中</font><font style="vertical-align: inherit;">如下所示：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"]).\<font></font>
              where("Name like :name").bind("name", "Z%")</code></strong>
</pre>
<div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小费
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在程序中，绑定使您可以在表达式中指定占位符，这些占位符在执行之前用值填充，并且可以根据需要从自动转义中受益。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            始终使用绑定来清理输入。</font><font style="vertical-align: inherit;">避免在使用字符串连接的查询中引入值，这会产生无效输入，并且在某些情况下会导致安全问题。
</font></font></p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612079808"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">项目结果</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要使用</font></font><a class="link" href="functions.html#operator_and"><code class="literal">AND</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          运算符</font><font style="vertical-align: inherit;">发出查询</font><font style="vertical-align: inherit;">，请在</font></font><code class="literal">where()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中的</font><font style="vertical-align: inherit;">搜索条件之间添加运算符
           </font><font style="vertical-align: inherit;">。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"]).\<font></font>
               where("Name like 'Z%' and CountryCode = 'CHN'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">郑州| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">淄博| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">张家口| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">株洲| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">张江| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">自贡| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">枣庄| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">张家港| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
22行（0.01秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定多个条件运算符，可以将搜索条件括在括号中以更改运算符优先级。</font><font style="vertical-align: inherit;">下面的示例演示的布局</font></font><a class="link" href="functions.html#operator_and"><code class="literal">AND</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
           </font></font><a class="link" href="functions.html#operator_or"><code class="literal">OR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运营商。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.select(["Name", "CountryCode"]).\<font></font>
where("Name like 'Z%' and (CountryCode = 'CHN' or CountryCode = 'RUS')")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">郑州| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">淄博| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">张家口| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">株洲| </font><font style="vertical-align: inherit;">CHN |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
......</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">Zeleznogorsk | </font><font style="vertical-align: inherit;">RUS |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------------------- + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
29行（0.01秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612069232"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限价，订单和抵消结果</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以应用</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，
           </font></font><code class="literal">order_by()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="literal">offset()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          方法来管理由返回的记录的数量和顺序</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的方法。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定结果集中包含的记录数，请将</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法附加值</font><font style="vertical-align: inherit;">附加</font><font style="vertical-align: inherit;">到</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法中。</font><font style="vertical-align: inherit;">例如，以下查询返回国家/地区表中的前五个记录。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.country.select(["Code", "Name"]).limit(5)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">代码| </font><font style="vertical-align: inherit;">名称|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ABW | </font><font style="vertical-align: inherit;">阿鲁巴|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">AFG | </font><font style="vertical-align: inherit;">阿富汗|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">AGO | </font><font style="vertical-align: inherit;">安哥拉|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">友邦保险| </font><font style="vertical-align: inherit;">安圭拉|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ALB | </font><font style="vertical-align: inherit;">阿尔巴尼亚|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5行（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要指定结果的顺序，请将</font></font><code class="literal">order_by()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">附加
           </font><font style="vertical-align: inherit;">到
           </font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">将</font></font><code class="literal">order_by()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个或多个列的列表</font><font style="vertical-align: inherit;">传递给</font><font style="vertical-align: inherit;">方法以进行排序，并根据需要将descending（</font></font><code class="literal">desc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）或ascending（</font></font><code class="literal">asc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）属性</font><font style="vertical-align: inherit;">（可选</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">传递给它
           </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">升序是默认订单类型。
        </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          例如，以下查询按名称列对所有记录进行排序，然后按降序返回前三个记录。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.country.select(["Code", "Name"]).order_by(["Name desc"]).limit(3)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">代码| </font><font style="vertical-align: inherit;">名称|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ZWE | </font><font style="vertical-align: inherit;">津巴布韦|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ZMB | </font><font style="vertical-align: inherit;">赞比亚|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">YUG | </font><font style="vertical-align: inherit;">南斯拉夫|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3组（0.00秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          默认情况下，该</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从表中的第一个记录开始。</font><font style="vertical-align: inherit;">您可以使用该
           </font></font><code class="literal">offset()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法更改起始记录。</font><font style="vertical-align: inherit;">例如，要忽略第一个记录并返回与条件匹配的下三个记录，请将</font></font><code class="literal">offset()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">传递给
           </font><font style="vertical-align: inherit;">方法1。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.country.select(["Code", "Name"]).order_by(["Name desc"]).limit(3).offset(1)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">代码| </font><font style="vertical-align: inherit;">名称|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ZMB | </font><font style="vertical-align: inherit;">赞比亚|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">YUG | </font><font style="vertical-align: inherit;">南斯拉夫|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">YEM | </font><font style="vertical-align: inherit;">也门|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3组（0.00秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612049600"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              在</font></font><a class="link" href="functions.html" title="第12章函数和操作符"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL参考手册</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提供的功能和运营商的详细文档。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-table-crud-functions.html#crud-ebnf-tableselectfunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TableSelectFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-table-update"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4.3更新表</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法修改表中的一个或多个记录。</font><font style="vertical-align: inherit;">该</font></font><code class="literal">update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        方法通过过滤查询以仅包括要更新的记录，然后将您指定的操作应用于这些记录来工作。
      </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要替换城市表中的城市名称，</font></font><code class="literal">set()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请将新城市名称</font><font style="vertical-align: inherit;">传递给
         </font><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">然后，传递给</font></font><code class="literal">where()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">城市名称定位和替换的方法。</font><font style="vertical-align: inherit;">以下示例将北京城市替换为北京。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.update().set("Name", "Beijing").where("Name = 'Peking'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.04秒）</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        使用该</font></font><code class="literal">select()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法验证更改。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.select(["ID", "Name", "CountryCode", "District", "Info"]).where("Name = 'Beijing'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- ------------- + + ---------- + ----- ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ID | </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode | </font><font style="vertical-align: inherit;">区| </font><font style="vertical-align: inherit;">信息|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- ------------- + + ---------- + ----- ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">1891年| </font><font style="vertical-align: inherit;">北京| </font><font style="vertical-align: inherit;">CHN | </font><font style="vertical-align: inherit;">北京| </font><font style="vertical-align: inherit;">{“人口”：7472000} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ----------- ------------- + + ---------- + ----- ------------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1排（0.00秒）</font></font><font></font>
</pre>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612034576"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>
</div>
</div>
</div>

<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-table-crud-functions.html#crud-ebnf-tableupdatefunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TableUpdateFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="mysql-shell-tutorial-python-table-delete"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.4.4删除表</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用该</font></font><code class="literal">delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法从数据库中的表中删除部分或全部记录。</font><font style="vertical-align: inherit;">X DevAPI提供了与方法一起使用的其他方法，用于
         </font></font><code class="literal">delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过滤和排序要删除的记录。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h5 class="title"><a name="idm140091612028320"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条件删除记录</font></font></h5>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          下面的示例将搜索条件传递给
           </font></font><code class="literal">delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法。</font><font style="vertical-align: inherit;">符合条件的所有记录都将从city表中删除。</font><font style="vertical-align: inherit;">在此示例中，一条记录与条件匹配。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.delete().where("Name = 'Olympia'")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.01秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612024496"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除第一条记录</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          要删除city表中的第一条记录，请使用</font></font><code class="literal">limit()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值为1 </font><font style="vertical-align: inherit;">的
           </font><font style="vertical-align: inherit;">方法。
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.delete().limit(1)</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.02秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612020768"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">删除表中的所有记录</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          您可以删除表中的所有记录。</font><font style="vertical-align: inherit;">为此，请在</font></font><code class="literal">delete()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不指定搜索条件的情况下</font><font style="vertical-align: inherit;">使用该
           </font><font style="vertical-align: inherit;">方法。
</font></font></p>
<div class="caution" style="margin-left: 0.5in; margin-right: 0.5in;">

<div class="admon-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
警告
</font></font></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            删除记录时请小心，而不指定搜索条件。</font><font style="vertical-align: inherit;">此操作将删除表中的所有记录。
</font></font></p>
</div>

</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612017744"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放一张桌子</font></font></h5>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          该</font></font><code class="literal">drop_collection()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法还在MySQL Shell中用于从数据库中删除关系表。</font><font style="vertical-align: inherit;">例如，要从</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">删除citytest表
           </font><font style="vertical-align: inherit;">，请键入：
        </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>session.drop_collection("world_x", "citytest")</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询正常（0.04秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h5 class="title"><a name="idm140091612013216"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h5>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">完整语法定义，</font><font style="vertical-align: inherit;">请参阅</font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/crud-ebnf-table-crud-functions.html#crud-ebnf-tabledeletefunction" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TableDeleteFunction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
              有关</font><font style="vertical-align: inherit;">
              重新创建</font><font style="vertical-align: inherit;">数据库的</font><font style="vertical-align: inherit;">说明，
               </font><font style="vertical-align: inherit;">请参见</font></font><a class="xref" href="document-store.html#mysql-shell-tutorial-python-download" title="20.4.1导入数据库示例"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.4.1节“导入数据库示例”</font></font></a><font style="vertical-align: inherit;"></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="mysql-shell-tutorial-python-documents-in-tables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.4.5表格中的文件</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在MySQL中，表可能包含传统的关系数据，JSON值或两者。</font><font style="vertical-align: inherit;">您可以将文档存储在具有本机</font></font><a class="link" href="data-types.html#json" title="11.6 JSON数据类型"><code class="literal">JSON</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据类型的</font><font style="vertical-align: inherit;">列中，从而将传统数据与JSON文档相结合
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节中的示例使用</font></font><code class="literal">world_x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库中</font><font style="vertical-align: inherit;">的city表
       </font><font style="vertical-align: inherit;">。
</font></font></p>
<div class="simplesect">

<div class="titlepage">
<div>

<div class="simple">
<h4 class="title"><a name="idm140091612003536"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">城市表描述</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        城市表有五列（或字段）。
      </font></font></p><pre class="screen"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ --------------- + ------------ + ------- ------- + ---- + ----- + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">领域| </font><font style="vertical-align: inherit;">输入| </font><font style="vertical-align: inherit;">空| </font><font style="vertical-align: inherit;">钥匙| </font><font style="vertical-align: inherit;">默认| </font><font style="vertical-align: inherit;">额外的|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + ------------ + ------- ------- + ---- + ----- + ------------------ +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ID | </font><font style="vertical-align: inherit;">int（11）| </font><font style="vertical-align: inherit;">没有| </font><font style="vertical-align: inherit;">PRI | </font><font style="vertical-align: inherit;">null | </font><font style="vertical-align: inherit;">auto_increment |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">char（35）| </font><font style="vertical-align: inherit;">没有| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">CountryCode | </font><font style="vertical-align: inherit;">char（3）| </font><font style="vertical-align: inherit;">没有| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">区| </font><font style="vertical-align: inherit;">char（20）| </font><font style="vertical-align: inherit;">没有| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">信息| </font><font style="vertical-align: inherit;">json | </font><font style="vertical-align: inherit;">是的| </font><font style="vertical-align: inherit;">| </font><font style="vertical-align: inherit;">null | </font><font style="vertical-align: inherit;">|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ --------------- + ------------ + ------- ------- + ---- + ----- + ------------------ +</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091612000912"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插入记录</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要将文档插入表的列，请</font></font><code class="literal">values()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按正确的顺序</font><font style="vertical-align: inherit;">将</font><font style="vertical-align: inherit;">方法</font><font style="vertical-align: inherit;">传递给
        </font><font style="vertical-align: inherit;">格式良好的JSON文档。</font><font style="vertical-align: inherit;">在以下示例中，将文档作为要插入Info列的最终值传递。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.insert().\<font></font>
values(None, "San Francisco", "USA", "California", '{"Population":830000}')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
查询OK，1项受影响（0.01秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091611996976"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选择一个记录</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        您可以使用搜索条件发出查询，该搜索条件评估表达式中的文档值。
      </font></font></p><pre data-lang="mysqlsh" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL的-PY&gt; </font></font><strong class="userinput"><code>db.city.select(["ID", "Name", "CountryCode", "District", "Info"]).\<font></font>
  where("CountryCode = :country and Info-&gt;'$.Population' &gt; 1000000").\<font></font>
  bind('country', 'USA')</code></strong><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ---------------- + ------------- ----------- + ----- + ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">ID | </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">CountryCode | </font><font style="vertical-align: inherit;">区| </font><font style="vertical-align: inherit;">信息|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ---------------- + ------------- ----------- + ----- + ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3793 | </font><font style="vertical-align: inherit;">纽约| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">纽约| </font><font style="vertical-align: inherit;">{“人口”：8008278} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3794 | </font><font style="vertical-align: inherit;">洛杉矶| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">加州| </font><font style="vertical-align: inherit;">{“人口”：3694820} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3795 | </font><font style="vertical-align: inherit;">芝加哥| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">伊利诺伊州 </font><font style="vertical-align: inherit;">{“人口”：2896016} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3796 | </font><font style="vertical-align: inherit;">休斯顿| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">德克萨斯州 </font><font style="vertical-align: inherit;">{“人口”：1953631} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3797 | </font><font style="vertical-align: inherit;">费城| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">宾州| </font><font style="vertical-align: inherit;">{“人口”：1517550} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3798 | </font><font style="vertical-align: inherit;">凤凰城| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">Arizona | </font><font style="vertical-align: inherit;">{“人口”：1321045} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3799 | </font><font style="vertical-align: inherit;">圣地亚哥| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">加州| </font><font style="vertical-align: inherit;">{“人口”：1223400} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3800 | </font><font style="vertical-align: inherit;">达拉斯| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">德克萨斯州 </font><font style="vertical-align: inherit;">{“人口”：1188580} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">3801 | </font><font style="vertical-align: inherit;">圣安东尼奥| </font><font style="vertical-align: inherit;">美国| </font><font style="vertical-align: inherit;">德克萨斯州 </font><font style="vertical-align: inherit;">{“人口”：1144646} |</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ------ + ---------------- + ------------- ----------- + ----- + ----------------------------- +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9行（0.01秒）</font></font><font></font>
</pre>
</div>
<div class="simplesect">
<div class="titlepage">
<div>
<div class="simple">
<h4 class="title"><a name="idm140091611992704"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关信息</font></font></h4>

</div>

</div>

</div>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关</font><font style="vertical-align: inherit;">
            概述，</font><font style="vertical-align: inherit;">请参阅
             </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/devapi-users-working-with-relational-tables-and-documents.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用关系表和文档</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            有关</font></font><a class="xref" href="data-types.html#json" title="11.6 JSON数据类型"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据类型</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的详细说明，</font><font style="vertical-align: inherit;">请参见</font><a class="xref" href="data-types.html#json" title="11.6 JSON数据类型"><font style="vertical-align: inherit;">第11.6节“JSON数据类型”</font></a><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>

</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h2 class="title" style="clear: both"><a name="x-plugin"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5 X插件</font></font></h2>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="document-store.html#x-plugin-checking-installation"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.1检查X插件安装</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-disabling"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.2禁用X插件</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-ssl-connections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.3使用带X插件的安全连接</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-sha2-cache-plugin"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.4将X插件与缓存SHA-2身份验证插件一起使用</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-options-variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.5 X插件选项和变量</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-system-monitoring"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.6监控X插件</font></font></a></span></dt></dl>
</div>
<a class="indexterm" name="idm140091611986944"></a><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    本节介绍如何使用，配置和监控X插件。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="x-plugin-checking-installation"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.1检查X插件安装</font></font></h3>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      默认情况下，MySQL插件中启用了X插件，因此安装或升级到MySQL 8可以使插件可用。</font><font style="vertical-align: inherit;">您可以使用以下命令验证X插件是否安装在MySQL服务器的实例上</font></font><a class="link" href="sql-syntax.html#show-plugins" title="13.7.6.25 SHOW PLUGINS语法"><code class="literal">SHOW plugins</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
      语句查看插件列表，</font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要使用MySQL Shell验证是否已安装X插件，请发出：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; mysqlsh -u </font></font><em class="replaceable"><code>user</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--sqlc -P 3306 -e“SHOW plugins”
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      要使用MySQL Client验证是否已安装X插件，请发出：
    </font></font></p><pre data-lang="terminal" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">shell&gt; mysql -u </font></font><em class="replaceable"><code>user</code></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p -e“SHOW插件”
</font></font></pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      如果安装了X Plugin，则会在此处突出显示示例结果：
    </font></font></p><pre data-lang="none" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ ---------------------------- + ---------- + --------- ----------- --------- + --------- + +</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">名称| </font><font style="vertical-align: inherit;">状态| </font><font style="vertical-align: inherit;">输入| </font><font style="vertical-align: inherit;">图书馆| </font><font style="vertical-align: inherit;">许可证|</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------- + ---------- + --------- ----------- --------- + --------- + +</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
<font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">mysqlx | </font><font style="vertical-align: inherit;">ACTIVE | </font><font style="vertical-align: inherit;">DAEMON | </font><font style="vertical-align: inherit;">NULL | </font><font style="vertical-align: inherit;">GPL |</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ ---------------------------- + ---------- + --------- ----------- --------- + --------- + +</font></font><font></font>
</pre>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="x-plugin-disabling"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.2禁用X插件</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      可以在启动时通过设置</font></font><a class="link" href="document-store.html#option_mysqld_mysqlx"><code class="option">mysqlx=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL配置文件，或者通过传入
       </font></font><a class="link" href="document-store.html#option_mysqld_mysqlx"><code class="option">--mysqlx=0</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
       </font></font><a class="link" href="document-store.html#option_mysqld_mysqlx"><code class="option">--skip-mysqlx</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      启动MySQL服务器</font><font style="vertical-align: inherit;">来禁用X插件
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      或者，使用
       </font></font><a class="link" href="installing.html#option_cmake_with_mysqlx"><code class="option">-DWITH_MYSQLX=OFF</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake选项在没有X插件的情况下编译MySQL服务器。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="x-plugin-ssl-connections"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.3使用带X插件的安全连接</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍如何配置X插件以使用安全连接。</font><font style="vertical-align: inherit;">有关更多背景信息，请参见
       </font></font><a class="xref" href="security.html#encrypted-connections" title="6.3使用加密连接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.3节“使用加密连接”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      X Plugin有自己的SSL设置，可能与MySQL Server使用的设置不同。</font><font style="vertical-align: inherit;">这意味着可以使用与MySQL服务器不同的SSL密钥，证书和证书颁发机构文件来配置X插件。</font><font style="vertical-align: inherit;">同样，X Plugin有自己的SSL状态变量，独立于MySQL Server SSL相关变量计算。</font><font style="vertical-align: inherit;">默认情况下，X插件SSL配置取自
       </font></font><code class="literal">mysqlx_ssl_*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量，如
       </font></font><a class="xref" href="document-store.html#x-plugin-options-system-variables" title="20.5.5.2 X插件选项和系统变量"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第20.5.5.2节“X插件选项和系统变量”中所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果没有使用提供配置
      </font></font><code class="literal">mysqlx_ssl_*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量，X插件回退到使用MySQL服务器SSL系统变量。</font><font style="vertical-align: inherit;">这意味着您可以通过单独配置每个SSL协议和X协议连接来选择单独的SSL配置，或者通过仅配置</font></font><code class="literal">ssl-*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量来</font><font style="vertical-align: inherit;">共享MySQL协议和X协议连接之间的SSL配置
       </font><font style="vertical-align: inherit;">。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在安装了X插件的服务器上，要使用单独的SSL配置配置MySQL协议和X协议连接，请使用以下两个</font></font><code class="literal">ssl-*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和
       </font></font><code class="literal">mysqlx-ssl-*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量
       </font></font><code class="filename">my.cnf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
    </font></font></p><pre data-lang="ini" class="programlisting"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的[mysqld]</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SSL的CA = ca1.pem</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SSL证书=服务器cert1.pem</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SSL的密钥=服务器key1.pem</font></font><font></font>
<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqlx-SSL-CA = ca2.pem</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqlx-SSL证书=服务器cert2.pem</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mysqlx的SSL密钥=服务器key2.pem</font></font><font></font>
</pre><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      可用</font></font><code class="literal">mysqlx_ssl_*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">变量镜像MySQL服务器中的SSL变量，因此在</font></font><a class="xref" href="security.html#using-encrypted-connections" title="6.3.1配置MySQL使用加密连接"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.3.1节“配置MySQL使用加密连接”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font><font style="vertical-align: inherit;">配置MySQL服务器以使用SSL的文件和技术
       </font><font style="vertical-align: inherit;">与配置X插件以使用安全连接相关。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      您可以使用</font></font><a class="link" href="server-administration.html#sysvar_tls_version"><code class="literal">tls_version</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      系统变量</font><font style="vertical-align: inherit;">配置X协议SSL连接使用的TLS版本</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因此，MySQL协议和X协议连接使用的TLS版本与TLS版本相同。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      每个连接的加密是可选的，但可以强制特定用户对X协议和MySQL协议连接使用加密。</font><font style="vertical-align: inherit;">您可以通过发出</font></font><a class="link" href="sql-syntax.html#grant" title="13.7.1.6 GRANT语法"><code class="literal">GRANT</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有该</font></font><code class="literal">REQUIRE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">语句来
       </font><font style="vertical-align: inherit;">配置此类用户
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关更多详细信息，请参见
       </font></font><a class="xref" href="sql-syntax.html#grant" title="13.7.1.6 GRANT语法"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第13.7.1.6节“GRANT语法”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">或者，可以通过设置强制所有X协议和MySQL协议连接使用加密</font></font><a class="link" href="server-administration.html#sysvar_require_secure_transport"><code class="literal">require_secure_transport</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="x-plugin-sha2-cache-plugin"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.4将X插件与缓存SHA-2身份验证插件一起使用</font></font></h3>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      X Plugin支持使用</font></font><a class="xref" href="security.html#caching-sha2-pluggable-authentication" title="6.4.1.3缓存SHA-2可插入认证"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6.4.1.3节“缓存SHA-2可插入身份验证”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件</font><font style="vertical-align: inherit;">创建的MySQL帐户
       </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以使用X插件使用具有</font></font><code class="literal">SHA256_MEMORY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      身份验证的</font><font style="vertical-align: inherit;">非SSL连接和具有</font><font style="vertical-align: inherit;">身份验证</font><font style="vertical-align: inherit;">的SSL连接对此类帐户进行</font><font style="vertical-align: inherit;">身份</font></font><code class="literal">PLAIN</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      验证。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      虽然缓存SHA-2身份验证插件包含身份验证缓存，但要使用带有X Plugin的此类帐户，将使用名为的X Plugin身份验证缓存插件
       </font></font><code class="literal">mysqlx_cache_cleaner</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">与X插件一样，默认情况下启用它。
    </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      在使用非SSL连接对使用该</font></font><code class="literal">caching_sha2_password</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">插件的帐户进行身份验证之前，该帐户必须至少通过SSL连接进行一次身份验证才能将密码存储在X Plugin身份验证缓存中。</font><font style="vertical-align: inherit;">这意味着首次使用帐户必须使用启用了X Plugin身份验证缓存的SSL连接。</font><font style="vertical-align: inherit;">通过SSL的初始身份验证成功后，可以使用非SSL连接。
</font></font></p>
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="x-plugin-options-variables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.5 X插件选项和变量</font></font></h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="document-store.html#x-plugin-option-variable-reference"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.5.1 X插件选项和变量参考</font></font></a></span></dt><dt><span class="section"><a href="document-store.html#x-plugin-options-system-variables"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.5.2 X插件选项和系统变量</font></font></a></span></dt></dl>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      本节介绍配置X插件的命令选项和系统变量。</font><font style="vertical-align: inherit;">如果在启动时指定的值不正确，则X Plugin可能无法正确初始化，并且服务器无法加载它。</font><font style="vertical-align: inherit;">在这种情况下，服务器还可能会为其他X插件设置生成错误消息，因为它无法识别它们。
</font></font></p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="x-plugin-option-variable-reference"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.5.1 X插件选项和变量参考</font></font></h4>
</div>
</div>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        此表概述了X Plugin提供的命令选项以及系统和状态变量。
</font></font></p>
<div class="table">
<a name="idm140091611940448"></a><p class="title"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表20.1 X插件选项和变量参考</font></font></b></p>
<div class="table-contents">
<table frame="box" rules="all" summary="Reference for X Plugin command-line options, system variables, and status variables."><colgroup><col width="20%"><col width="15%"><col width="15%"><col width="15%"><col width="15%"><col width="15%"><col width="15%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名称</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMD线</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">选项文件</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状态变量</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Var范围</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></th>
</tr></thead><tbody><tr><td scope="row"><a class="link" href="document-store.html#option_mysqld_mysqlx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_aborted_clients"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_aborted_clients</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_address"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_address</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_bind_address"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_bind_address</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_bytes_received"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_bytes_received</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_bytes_sent"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_bytes_sent</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_connect_timeout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_connect_timeout</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_connection_accept_errors"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_connection_accept_errors</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_connection_errors"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_connection_errors</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_connections_accepted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_connections_accepted</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_connections_closed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_connections_closed</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_connections_rejected"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_connections_rejected</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_crud_create_view"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_crud_create_view</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_crud_delete"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_crud_delete</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_crud_drop_view"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_crud_drop_view</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_crud_find"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_crud_find</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_crud_insert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_crud_insert</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_crud_modify_view"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_crud_modify_view</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_crud_update"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_crud_update</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_document_id_unique_prefix"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_document_id_unique_prefix</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_enable_hello_notice"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_enable_hello_notice</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_errors_sent"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_errors_sent</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_errors_unknown_message_type</font></font></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_expect_close"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_expect_close</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_expect_open"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_expect_open</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_idle_worker_thread_timeout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_idle_worker_thread_timeout</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_init_error"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_init_error</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_interactive_timeout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_interactive_timeout</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_max_allowed_packet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_max_allowed_pa​​cket</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_max_connections"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_max_connections</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_min_worker_threads"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_min_worker_threads</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_notice_global_sent"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_notice_global_sent</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_notice_other_sent"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_notice_other_sent</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_notice_warning_sent"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_notice_warning_sent</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_notified_by_group_replication"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_notified_by_group_replication</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_port"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_port</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_port"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_port</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_port_open_timeout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_port_open_timeout</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_read_timeout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_read_timeout</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_rows_sent"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_rows_sent</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_sessions"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_sessions</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_sessions_accepted"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_sessions_accepted</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_sessions_closed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_sessions_closed</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_sessions_fatal_error"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_sessions_fatal_error</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_sessions_killed"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_sessions_killed</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_sessions_rejected"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_sessions_rejected</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_socket"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_socket</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_socket"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_socket</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_accept_renegotiates"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_accept_renegotiates</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_accepts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_accepts</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_active</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_ca"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_ssl_ca</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_capath"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_ssl_capath</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_cert"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_ssl_cert</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_cipher"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_cipher</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_cipher"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_ssl_cipher</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_cipher_list"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_cipher_list</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_crl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_ssl_crl</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_crlpath"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_ssl_crlpath</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_ctx_verify_depth"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_ctx_verify_depth</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_ctx_verify_mode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_ctx_verify_mode</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_finished_accepts"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_finished_accepts</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_key"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_ssl_key</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_server_not_after"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_server_not_after</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_server_not_before"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_server_not_before</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_verify_depth"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_verify_depth</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_verify_mode"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_verify_mode</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_ssl_version"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_ssl_version</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_create_collection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_create_collection</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_create_collection_index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_create_collection_index</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_disable_notices"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_disable_notices</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_drop_collection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_drop_collection</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_drop_collection_index"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_drop_collection_index</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_enable_notices"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_enable_notices</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_ensure_collection"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_ensure_collection</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_execute_mysqlx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_execute_mysqlx</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_execute_sql"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_execute_sql</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_execute_xplugin"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_execute_xplugin</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_kill_client"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_kill_client</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_list_clients"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_list_clients</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_list_notices"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_list_notices</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_list_objects"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_list_objects</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_stmt_ping"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_stmt_ping</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">都</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_wait_timeout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_wait_timeout</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_worker_threads"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_worker_threads</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#statvar_Mysqlx_worker_threads_active"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mysqlx_worker_threads_active</font></font></a></td>
<td></td>
<td></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><a class="link" href="document-store.html#sysvar_mysqlx_write_timeout"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mysqlx_write_timeout</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr></tbody></table>
</div>

</div>
<br class="table-break">
</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="x-plugin-options-system-variables"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20.5.5.2 X插件选项和系统变量</font></font></h4>

</div>

</div>

</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        要控制X插件的激活，请使用此选项：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="option_mysqld_mysqlx"></a>
            <a class="indexterm" name="idm140091611327584"></a>

            <a class="indexterm" name="idm140091611326544"></a>

            <a class="link" href="document-store.html#option_mysqld_mysqlx"><code class="option">--mysqlx[=value]</code></a>
</p>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx[=value]</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.0.11</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列举</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">ON</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效值</font></font></strong></span></td>
<td><p class="valid-value"><code class="literal">ON</code></p><p class="valid-value"><code class="literal">OFF</code></p><p class="valid-value"><code class="literal">FORCE</code></p><p class="valid-value"><code class="literal">FORCE_PLUS_PERMANENT</code></p></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            此选项控制服务器在启动时加载X插件的方式。</font><font style="vertical-align: inherit;">在MySQL 8.0中，默认情况下启用X插件，但此选项可用于控制其激活状态。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            选项值应该是可用于插件加载选项的选项之一，如
             </font></font><a class="xref" href="server-administration.html#plugin-loading" title="5.6.1安装和卸载插件"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5.6.1节“安装和卸载插件”中所述</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        如果启用了X插件，它会公开几个允许控制其操作的系统变量：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="sysvar_mysqlx_bind_address"></a>
            <a class="indexterm" name="idm140091611296384"></a>

            <a class="indexterm" name="idm140091611295344"></a>

            <a class="link" href="document-store.html#sysvar_mysqlx_bind_address"><code class="literal">mysqlx_bind_address</code></a>
</p>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_bind_address"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-bind-address=value</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_bind_address">mysqlx_bind_address</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">串</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">*</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X Plugin侦听TCP / IP连接的网络地址。</font><font style="vertical-align: inherit;">此变量不是动态的，只能在启动时配置。</font><font style="vertical-align: inherit;">这是</font></font><a class="link" href="server-administration.html#sysvar_bind_address"><code class="literal">bind_address</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font><font style="vertical-align: inherit;">的X Plugin等价物
             </font><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">请参阅该变量描述以获取更多信息。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果</font></font><a class="link" href="document-store.html#sysvar_mysqlx_bind_address"><code class="literal">mysqlx_bind_address</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被指定，其值必须是一个单个非通配符IP地址或主机名，或在允许对多个网络接口侦听的通配符地址格式中的一种（</font></font><code class="literal">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="literal">0.0.0.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或
             </font></font><code class="literal">::</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            IP地址可以指定为IPv4或IPv6地址。</font><font style="vertical-align: inherit;">如果值是主机名，则X Plugin会将名称解析为IP地址并绑定到该地址。</font><font style="vertical-align: inherit;">如果主机名解析为多个IP地址，则X插件使用第一个IPv4地址（如果有），否则使用第一个IPv6地址。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X插件处理不同类型的地址，如下所示：
</font></font></p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果地址是</font></font><code class="literal">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则X Plugin接受所有服务器主机IPv4接口上的TCP / IP连接，如果服务器主机支持IPv6，则接受所有IPv6接口上的TCP / IP连接。</font><font style="vertical-align: inherit;">使用此地址允许X插件的IPv4和IPv6连接。</font><font style="vertical-align: inherit;">该值是默认值。
              </font></font></p></li><li class="listitem"><p>
                If the address is <code class="literal">0.0.0.0</code>,
                X Plugin accepts TCP/IP connections on all server
                host IPv4 interfaces.
              </p></li><li class="listitem"><p>
                If the address is <code class="literal">::</code>, X Plugin
                accepts TCP/IP connections on all server host IPv4 and
                IPv6 interfaces.
              </p></li><li class="listitem"><p>
                If the address is an IPv4-mapped address, X Plugin
                accepts TCP/IP connections for that address, in either
                IPv4 or IPv6 format. For example, if X Plugin is
                bound to <code class="literal">::ffff:127.0.0.1</code>, a client
                such as MySQL Shell can connect using
                <code class="option">--host=127.0.0.1</code> or
                <code class="option">--host=::ffff:127.0.0.1</code>.
              </p></li><li class="listitem"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                如果地址是</font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><span class="quote"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常规</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> IPv4或IPv6地址（例如</font></font><code class="literal">127.0.0.1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或
                 </font></font><code class="literal">::1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），则X Plugin仅接受该IPv4或IPv6地址的TCP / IP连接。
</font></font></p></li></ul>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            如果绑定到地址失败，X插件会产生错误，服务器不会加载它。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_connect_timeout"></a>
            <a class="indexterm" name="idm140091611245184"></a>

            <a class="indexterm" name="idm140091611244144"></a>

            <a class="link" href="document-store.html#sysvar_mysqlx_connect_timeout"><code class="literal">mysqlx_connect_timeout</code></a>
</p>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_connect_timeout"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-connect-timeout=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_connect_timeout">mysqlx_connect_timeout</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">30</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">1</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">1000000000</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X插件等待从新连接的客户端接收第一个数据包的秒数。</font><font style="vertical-align: inherit;">这是X插件的等价物
             </font></font><a class="link" href="server-administration.html#sysvar_connect_timeout"><code class="literal">connect_timeout</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">请参阅该变量以获取更多信息。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_document_id_unique_prefix"></a>
            <a class="indexterm" name="idm140091611204656"></a>

            <a class="indexterm" name="idm140091611203552"></a>

            <a class="link" href="document-store.html#sysvar_mysqlx_document_id_unique_prefix"><code class="literal">mysqlx_document_id_unique_prefix</code></a>
</p>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_document_id_unique_prefix"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-document-id-unique-prefix=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_document_id_unique_prefix">mysqlx_document_id_unique_prefix</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">0</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">0</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">65535</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            设置将文档添加到集合时由服务器生成的文档ID的前4个字节。</font><font style="vertical-align: inherit;">通过将此变量设置为每个实例的唯一值，可以确保文档ID在实例之间是唯一的。</font><font style="vertical-align: inherit;">请参阅
             </font></font><a class="ulink" href="https://dev.mysql.com/doc/x-devapi-userguide/en/understanding-automatic-document-ids.html" target="_top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解文档ID</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。

            
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_enable_hello_notice"></a>
            <a class="indexterm" name="idm140091611163712"></a>

            <a class="indexterm" name="idm140091611162608"></a>

            <a class="link" href="document-store.html#sysvar_mysqlx_enable_hello_notice"><code class="literal">mysqlx_enable_hello_notice</code></a>
</p>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_enable_hello_notice"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-document-id-unique-prefix[={OFF|ON}]</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_enable_hello_notice">mysqlx_enable_hello_notice</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">布尔</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">ON</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            控制发送到试图通过X协议连接的经典MySQL协议客户端的消息。</font><font style="vertical-align: inherit;">启用后，不支持尝试连接到服务器X协议端口的X协议的客户端会收到错误消息，说明它们使用了错误的协议。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_idle_worker_thread_timeout"></a>
            <a class="indexterm" name="idm140091611130320"></a>

            <a class="indexterm" name="idm140091611129280"></a>

            <a class="link" href="document-store.html#sysvar_mysqlx_idle_worker_thread_timeout"><code class="literal">mysqlx_idle_worker_thread_timeout</code></a>
</p>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_idle_worker_thread_timeout"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-idle-worker-thread-timeout=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_idle_worker_thread_timeout">mysqlx_idle_worker_thread_timeout</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">60</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">0</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">3600</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            空闲工作线程终止之后的秒数。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_interactive_timeout"></a>
            <a class="indexterm" name="idm140091611091024"></a>

            <a class="indexterm" name="idm140091611089920"></a>

            <a class="link" href="document-store.html#sysvar_mysqlx_interactive_timeout"><code class="literal">mysqlx_interactive_timeout</code></a>
</p>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_interactive_timeout"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-interactive-timeout=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.0.4</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_interactive_timeout">mysqlx_interactive_timeout</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">28800</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">1</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">2147483</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"></font><a class="link" href="document-store.html#sysvar_mysqlx_wait_timeout"><code class="literal">mysqlx_wait_timeout</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交互式客户端</font><font style="vertical-align: inherit;">
            的</font><font style="vertical-align: inherit;">会话变量</font><font style="vertical-align: inherit;">的默认值
             </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">（等待交互式客户端超时的秒数。）
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_max_allowed_packet"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_max_allowed_packet"><code class="literal">mysqlx_max_allowed_packet</code></a>
</p><a class="indexterm" name="idm140091611046400"></a><a class="indexterm" name="idm140091611045296"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_max_allowed_packet"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-max-allowed-packet=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_max_allowed_packet">mysqlx_max_allowed_packet</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">67108864</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">512</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">1073741824</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X插件可以接收的网络数据包的最大大小。</font><font style="vertical-align: inherit;">这是X插件的等价物
             </font></font><a class="link" href="server-administration.html#sysvar_max_allowed_packet"><code class="literal">max_allowed_packet</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">请参阅该变量以获取更多信息。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_max_connections"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_max_connections"><code class="literal">mysqlx_max_connections</code></a>
</p><a class="indexterm" name="idm140091611005808"></a><a class="indexterm" name="idm140091611004768"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_max_connections"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-max-connections=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_max_connections">mysqlx_max_connections</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">100</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">1</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">65535</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X插件可以接受的最大并发客户端连接数。</font><font style="vertical-align: inherit;">这是X插件的等价物
             </font></font><a class="link" href="server-administration.html#sysvar_max_connections"><code class="literal">max_connections</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">请参阅该变量以获取更多信息。
          </font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            对于此变量的修改，如果新值小于当前连接数，则仅对新连接考虑新限制。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_min_worker_threads"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_min_worker_threads"><code class="literal">mysqlx_min_worker_threads</code></a>
</p><a class="indexterm" name="idm140091610964736"></a><a class="indexterm" name="idm140091610963632"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_min_worker_threads"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-min-worker-threads=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_min_worker_threads">mysqlx_min_worker_threads</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">2</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">1</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">100</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X Plugin用于处理客户端请求的最小工作线程数。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_port"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_port"><code class="literal">mysqlx_port</code></a>
</p><a class="indexterm" name="idm140091610925600"></a><a class="indexterm" name="idm140091610924512"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_port"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-port=port_num</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_port">mysqlx_port</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">33060</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">1</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">65535</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X Plugin侦听TCP / IP连接的网络端口。</font><font style="vertical-align: inherit;">这是X插件的等价物
             </font></font><a class="link" href="server-administration.html#sysvar_port"><code class="literal">port</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; </font><font style="vertical-align: inherit;">请参阅该变量以获取更多信息。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_port_open_timeout"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_port_open_timeout"><code class="literal">mysqlx_port_open_timeout</code></a>
</p><a class="indexterm" name="idm140091610885184"></a><a class="indexterm" name="idm140091610884080"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_port_open_timeout"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-port-open-timeout=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_port_open_timeout">mysqlx_port_open_timeout</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">0</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">0</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">120</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X插件等待TCP / IP端口空闲的秒数。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_read_timeout"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_read_timeout"><code class="literal">mysqlx_read_timeout</code></a>
</p><a class="indexterm" name="idm140091610845952"></a><a class="indexterm" name="idm140091610844912"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_read_timeout"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-read-timeout=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.0.4</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_read_timeout">mysqlx_read_timeout</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会议</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">28800</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最低价值</font></font></strong></span></td>
<td><code class="literal">30</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大价值</font></font></strong></span></td>
<td><code class="literal">2147483</code></td>
</tr></tbody></table>
</div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X Plugin等待阻止读取操作完成的秒数。</font><font style="vertical-align: inherit;">在此之后，如果读取操作不成功，则中止连接。
          </font></font></p></li><li class="listitem"><p><a name="sysvar_mysqlx_socket"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_socket"><code class="literal">mysqlx_socket</code></a>
</p><a class="indexterm" name="idm140091610804080"></a><a class="indexterm" name="idm140091610802992"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_socket"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></th>
<th scope="col"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font></font></th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行格式</font></font></strong></span></td>
<td><code class="literal">--mysqlx-socket=file_name</code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">系统变量</font></font></strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_socket">mysqlx_socket</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">范围</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全球</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">动态</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 提示适用</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></strong></span></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">串</font></font></td>
</tr><tr><td scope="row"><span class="bold"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认值</font></font></strong></span></td>
<td><code class="literal">/tmp/mysqlx.sock</code></td>
</tr></tbody></table>
</div>
<p>
            The path to a Unix socket file which X Plugin uses for
            connections. This setting is only used by MySQL Server when
            running on Unix operating systems. Clients can use this
            socket to connect to MySQL Server using X Plugin.
          </p><p>
            The default <a class="link" href="document-store.html#sysvar_mysqlx_socket"><code class="literal">mysqlx_socket</code></a>
            path and file name is based on the default path and file
            name for the main socket file for MySQL Server, with the
            addition of an <code class="literal">x</code> appended to the file
            name. The default path and file name for the main socket
            file is <code class="literal">/tmp/mysql.sock</code>, therefore the
            default path and file name for the X Plugin socket
            file is <code class="literal">/tmp/mysqlx.sock</code>.
          </p><p>
            If you specify an alternative path and file name for the
            main socket file at server startup using the
            <a class="link" href="server-administration.html#sysvar_socket"><code class="literal">socket</code></a> system variable,
            this does not affect the default for the X Plugin
            socket file. In this situation, if you want to store both
            sockets at a single path, you must set the
            <a class="link" href="document-store.html#sysvar_mysqlx_socket"><code class="literal">mysqlx_socket</code></a> system
            variable as well. For example in a configuration file:
          </p><pre data-lang="ini" class="programlisting">socket=/home/sockets/mysqld/mysql.sock<font></font>
mysqlx_socket=/home/sockets/xplugin/xplugin.sock<font></font>
</pre><p>
            If you change the default path and file name for the main
            socket file at compile time using the
            <a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a> compile
            option, this does affect the default for the X Plugin
            socket file, which is formed by appending an
            <code class="literal">x</code> to the
            <a class="link" href="installing.html#option_cmake_mysql_unix_addr"><code class="option">MYSQL_UNIX_ADDR</code></a> file name. If
            you want to set a different default for the X Plugin
            socket file at compile time, use the
            <a class="link" href="installing.html#option_cmake_mysqlx_unix_addr"><code class="option">MYSQLX_UNIX_ADDR</code></a> compile
            option.
          </p><p>
            The <code class="literal">MYSQLX_UNIX_PORT</code> environment variable
            can also be used to set a default for the X Plugin
            socket file at server startup (see
            <a class="xref" href="programs.html#environment-variables" title="4.9 MySQL程序环境变量">Section&nbsp;4.9, “MySQL Program Environment Variables”</a>). If you set this
            environment variable, it overrides the compiled
            <a class="link" href="installing.html#option_cmake_mysqlx_unix_addr"><code class="option">MYSQLX_UNIX_ADDR</code></a> value, but is
            overridden by the
            <a class="link" href="document-store.html#sysvar_mysqlx_socket"><code class="literal">mysqlx_socket</code></a> value.
          </p></li><li class="listitem"><p><a name="sysvar_mysqlx_ssl_ca"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_ssl_ca"><code class="literal">mysqlx_ssl_ca</code></a>
</p><a class="indexterm" name="idm140091610753792"></a><a class="indexterm" name="idm140091610752704"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_ssl_ca"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col">Property</th>
<th scope="col">Value</th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td>
<td><code class="literal">--mysqlx-ssl-ca=file_name</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>System Variable</strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_ca">mysqlx_ssl_ca</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Scope</strong></span></td>
<td>Global</td>
</tr><tr><td scope="row"><span class="bold"><strong>Dynamic</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a> Hint Applies</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td>
<td>File name</td>
</tr></tbody></table>
</div>
<p>
            This is the X Plugin equivalent of
            <a class="link" href="server-administration.html#sysvar_ssl_ca"><code class="literal">ssl_ca</code></a>; see that variable
            for more information.
          </p></li><li class="listitem"><p><a name="sysvar_mysqlx_ssl_capath"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_ssl_capath"><code class="literal">mysqlx_ssl_capath</code></a>
</p><a class="indexterm" name="idm140091610722576"></a><a class="indexterm" name="idm140091610721536"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_ssl_capath"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col">Property</th>
<th scope="col">Value</th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td>
<td><code class="literal">--mysqlx-ssl-capath=dir_name</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>System Variable</strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_capath">mysqlx_ssl_capath</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Scope</strong></span></td>
<td>Global</td>
</tr><tr><td scope="row"><span class="bold"><strong>Dynamic</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a> Hint Applies</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td>
<td>Directory name</td>
</tr></tbody></table>
</div>
<p>
            This is the X Plugin equivalent of
            <a class="link" href="server-administration.html#sysvar_ssl_capath"><code class="literal">ssl_capath</code></a>; see that
            variable for more information.
          </p></li><li class="listitem"><p><a name="sysvar_mysqlx_ssl_cert"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_ssl_cert"><code class="literal">mysqlx_ssl_cert</code></a>
</p><a class="indexterm" name="idm140091610691488"></a><a class="indexterm" name="idm140091610690400"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_ssl_cert"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col">Property</th>
<th scope="col">Value</th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td>
<td><code class="literal">--mysqlx-ssl-cert=name</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>System Variable</strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_cert">mysqlx_ssl_cert</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Scope</strong></span></td>
<td>Global</td>
</tr><tr><td scope="row"><span class="bold"><strong>Dynamic</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a> Hint Applies</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td>
<td>File name</td>
</tr></tbody></table>
</div>
<p>
            This is the X Plugin equivalent of
            <a class="link" href="server-administration.html#sysvar_ssl_cert"><code class="literal">ssl_cert</code></a>; see that variable
            for more information.
          </p></li><li class="listitem"><p><a name="sysvar_mysqlx_ssl_cipher"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_ssl_cipher"><code class="literal">mysqlx_ssl_cipher</code></a>
</p><a class="indexterm" name="idm140091610660288"></a><a class="indexterm" name="idm140091610659248"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_ssl_cipher"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col">Property</th>
<th scope="col">Value</th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td>
<td><code class="literal">--mysqlx-ssl-cipher=name</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>System Variable</strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_cipher">mysqlx_ssl_cipher</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Scope</strong></span></td>
<td>Global</td>
</tr><tr><td scope="row"><span class="bold"><strong>Dynamic</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a> Hint Applies</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td>
<td>String</td>
</tr></tbody></table>
</div>
<p>
            The SSL cipher to use for X Protocol connections. This
            is the X Plugin equivalent of
            <a class="link" href="server-administration.html#sysvar_ssl_cipher"><code class="literal">ssl_cipher</code></a>; see that
            variable for more information.
          </p></li><li class="listitem"><p><a name="sysvar_mysqlx_ssl_crl"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_ssl_crl"><code class="literal">mysqlx_ssl_crl</code></a>
</p><a class="indexterm" name="idm140091610629120"></a><a class="indexterm" name="idm140091610628032"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_ssl_crl"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col">Property</th>
<th scope="col">Value</th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td>
<td><code class="literal">--mysqlx-ssl-crl=file_name</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>System Variable</strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_crl">mysqlx_ssl_crl</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Scope</strong></span></td>
<td>Global</td>
</tr><tr><td scope="row"><span class="bold"><strong>Dynamic</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a> Hint Applies</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td>
<td>File name</td>
</tr></tbody></table>
</div>
<p>
            This is the X Plugin equivalent of
            <a class="link" href="server-administration.html#sysvar_ssl_crl"><code class="literal">ssl_crl</code></a>; see that variable
            for more information.
          </p></li><li class="listitem"><p><a name="sysvar_mysqlx_ssl_crlpath"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_ssl_crlpath"><code class="literal">mysqlx_ssl_crlpath</code></a>
</p><a class="indexterm" name="idm140091610597904"></a><a class="indexterm" name="idm140091610596864"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_ssl_crlpath"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col">Property</th>
<th scope="col">Value</th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td>
<td><code class="literal">--mysqlx-ssl-crlpath=dir_name</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>System Variable</strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_crlpath">mysqlx_ssl_crlpath</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Scope</strong></span></td>
<td>Global</td>
</tr><tr><td scope="row"><span class="bold"><strong>Dynamic</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a> Hint Applies</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td>
<td>Directory name</td>
</tr></tbody></table>
</div>
<p>
            This is the X Plugin equivalent of
            <a class="link" href="server-administration.html#sysvar_ssl_crlpath"><code class="literal">ssl_crlpath</code></a>; see that
            variable for more information.
          </p></li><li class="listitem"><p><a name="sysvar_mysqlx_ssl_key"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_ssl_key"><code class="literal">mysqlx_ssl_key</code></a>
</p><a class="indexterm" name="idm140091610566880"></a><a class="indexterm" name="idm140091610565792"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_ssl_key"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col">Property</th>
<th scope="col">Value</th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td>
<td><code class="literal">--mysqlx-ssl-key=file_name</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>System Variable</strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_ssl_key">mysqlx_ssl_key</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Scope</strong></span></td>
<td>Global</td>
</tr><tr><td scope="row"><span class="bold"><strong>Dynamic</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a> Hint Applies</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td>
<td>File name</td>
</tr></tbody></table>
</div>
<p>
            This is the X Plugin equivalent of
            <a class="link" href="server-administration.html#sysvar_ssl_key"><code class="literal">ssl_key</code></a>; see that variable
            for more information.
          </p></li><li class="listitem"><p><a name="sysvar_mysqlx_wait_timeout"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_wait_timeout"><code class="literal">mysqlx_wait_timeout</code></a>
</p><a class="indexterm" name="idm140091610535664"></a><a class="indexterm" name="idm140091610534624"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_wait_timeout"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col">Property</th>
<th scope="col">Value</th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td>
<td><code class="literal">--mysqlx-wait-timeout=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td>
<td>8.0.4</td>
</tr><tr><td scope="row"><span class="bold"><strong>System Variable</strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_wait_timeout">mysqlx_wait_timeout</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Scope</strong></span></td>
<td>Session</td>
</tr><tr><td scope="row"><span class="bold"><strong>Dynamic</strong></span></td>
<td>Yes</td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a> Hint Applies</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td>
<td>Integer</td>
</tr><tr><td scope="row"><span class="bold"><strong>Default Value</strong></span></td>
<td><code class="literal">28800</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Minimum Value</strong></span></td>
<td><code class="literal">1</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Maximum Value</strong></span></td>
<td><code class="literal">2147483</code></td>
</tr></tbody></table>
</div>
<p>
            The number of seconds that X Plugin waits for activity
            on a connection. After this time, if the read operation is
            not successful, the connection is aborted. If the client is
            noninteractive, the initial value of the session variable is
            copied from the global
            <a class="link" href="document-store.html#sysvar_mysqlx_wait_timeout"><code class="literal">mysqlx_wait_timeout</code></a>
            variable. For interactive clients, the initial value is
            copied from the session
            <a class="link" href="document-store.html#sysvar_mysqlx_interactive_timeout"><code class="literal">mysqlx_interactive_timeout</code></a>.
          </p></li><li class="listitem"><p><a name="sysvar_mysqlx_write_timeout"></a>
            <a class="link" href="document-store.html#sysvar_mysqlx_write_timeout"><code class="literal">mysqlx_write_timeout</code></a>
</p><a class="indexterm" name="idm140091610490928"></a><a class="indexterm" name="idm140091610489888"></a>
<div class="informaltable">
<table frame="box" rules="all" summary="Properties for mysqlx_write_timeout"><colgroup><col width="50%"><col width="50%"></colgroup><thead><tr><th scope="col">Property</th>
<th scope="col">Value</th>
</tr></thead><tbody><tr><td scope="row"><span class="bold"><strong>Command-Line Format</strong></span></td>
<td><code class="literal">--mysqlx-write-timeout=#</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Introduced</strong></span></td>
<td>8.0.4</td>
</tr><tr><td scope="row"><span class="bold"><strong>System Variable</strong></span></td>
<td><code class="literal"><a class="link" href="document-store.html#sysvar_mysqlx_write_timeout">mysqlx_write_timeout</a></code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Scope</strong></span></td>
<td>Session</td>
</tr><tr><td scope="row"><span class="bold"><strong>Dynamic</strong></span></td>
<td>Yes</td>
</tr><tr><td scope="row"><span class="bold"><strong><a class="link" href="optimization.html#optimizer-hints-set-var" title="变量设置提示语法"><code class="literal">SET_VAR</code></a> Hint Applies</strong></span></td>
<td>No</td>
</tr><tr><td scope="row"><span class="bold"><strong>Type</strong></span></td>
<td>Integer</td>
</tr><tr><td scope="row"><span class="bold"><strong>Default Value</strong></span></td>
<td><code class="literal">60</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Minimum Value</strong></span></td>
<td><code class="literal">1</code></td>
</tr><tr><td scope="row"><span class="bold"><strong>Maximum Value</strong></span></td>
<td><code class="literal">2147483</code></td>
</tr></tbody></table>
</div>
<p>
            The number of seconds that X Plugin waits for blocking
            write operations to complete. After this time, if the write
            operation is not successful, the connection is aborted.
</p></li></ul>
</div>

</div>

</div>
<div class="section">
<div class="titlepage">
<div>
<div>
<h3 class="title"><a name="x-plugin-system-monitoring"></a>20.5.6&nbsp;Monitoring X Plugin</h3>

</div>

</div>

</div>
<div class="toc">
<dl class="toc"><dt><span class="section"><a href="document-store.html#x-plugin-monitoring-status-variables">20.5.6.1 Status Variables for X Plugin</a></span></dt></dl>
</div>
<p>
      This section describes how to monitor X Plugin. There are
      two available methods of monitoring, using Performance Schema
      tables or status variables.
</p>
<div class="section">

<div class="titlepage">
<div>
<div>
<h4 class="title"><a name="x-plugin-monitoring-status-variables"></a>20.5.6.1&nbsp;Status Variables for X Plugin</h4>
</div>
</div>
</div>
<p>
        The status variables have the following meanings.
</p>
<div class="itemizedlist">
<ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><a name="statvar_Mysqlx_aborted_clients"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_aborted_clients"><code class="literal">Mysqlx_aborted_clients</code></a>
          </p><p>
            The number of clients that were disconnected because of an
            input or output error.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_address"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_address"><code class="literal">Mysqlx_address</code></a>
          </p><p>
            The network address which X Plugin is bound to. If the
            bind has failed, or if the
            <a class="link" href="server-administration.html#sysvar_skip_networking"><code class="literal">skip_networking</code></a> option has
            been used, the value shows <code class="literal">UNDEFINED</code>.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_bytes_received"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_bytes_received"><code class="literal">Mysqlx_bytes_received</code></a>
          </p><p>
            The number of bytes received through the network.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_bytes_sent"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_bytes_sent"><code class="literal">Mysqlx_bytes_sent</code></a>
          </p><p>
            The number of bytes sent through the network.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_connection_accept_errors"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_connection_accept_errors"><code class="literal">Mysqlx_connection_accept_errors</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            导致接受错误的连接数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_connection_errors"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_connection_errors"><code class="literal">Mysqlx_connection_errors</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            导致错误的连接数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_connections_accepted"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_connections_accepted"><code class="literal">Mysqlx_connections_accepted</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            已接受的连接数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_connections_closed"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_connections_closed"><code class="literal">Mysqlx_connections_closed</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            已关闭的连接数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_connections_rejected"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_connections_rejected"><code class="literal">Mysqlx_connections_rejected</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            已被拒绝的连接数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_crud_create_view"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_crud_create_view"><code class="literal">Mysqlx_crud_create_view</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的创建视图请求数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_crud_delete"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_crud_delete"><code class="literal">Mysqlx_crud_delete</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的删除请求数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_crud_drop_view"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_crud_drop_view"><code class="literal">Mysqlx_crud_drop_view</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的丢弃视图请求数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_crud_find"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_crud_find"><code class="literal">Mysqlx_crud_find</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的查找请求数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_crud_insert"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_crud_insert"><code class="literal">Mysqlx_crud_insert</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的插入请求数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_crud_modify_view"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_crud_modify_view"><code class="literal">Mysqlx_crud_modify_view</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的修改视图请求数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_crud_update"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_crud_update"><code class="literal">Mysqlx_crud_update</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的更新请求数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_cursor_close"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_cursor_close"><code class="literal">Mysqlx_cursor_close</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的光标关闭消息数
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_cursor_fetch"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_cursor_fetch"><code class="literal">Mysqlx_cursor_fetch</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的光标提取消息数
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_cursor_open"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_cursor_open"><code class="literal">Mysqlx_cursor_open</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的游标打开消息的数量
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_errors_sent"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_errors_sent"><code class="literal">Mysqlx_errors_sent</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            发送给客户端的错误数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_expect_close"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_expect_close"><code class="literal">Mysqlx_expect_close</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            期望区块数量已关闭。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_expect_open"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_expect_open"><code class="literal">Mysqlx_expect_open</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            期望区块的数量已经打开。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_init_error"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_init_error"><code class="literal">Mysqlx_init_error</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            初始化期间的错误数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_notice_global_sent"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_notice_global_sent"><code class="literal">Mysqlx_notice_global_sent</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            发送给客户端的全局通知数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_notice_other_sent"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_notice_other_sent"><code class="literal">Mysqlx_notice_other_sent</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            发回给客户的其他类型通知的数量。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_notice_warning_sent"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_notice_warning_sent"><code class="literal">Mysqlx_notice_warning_sent</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            发送回客户的警告通知的数量。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_notified_by_group_replication"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_notified_by_group_replication"><code class="literal">Mysqlx_notified_by_group_replication</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            发送给客户端的组复制通知数
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_port"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_port"><code class="literal">Mysqlx_port</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            X Plugin正在侦听的TCP端口。</font><font style="vertical-align: inherit;">如果网络绑定失败，或者</font></font><a class="link" href="server-administration.html#option_mysqld_skip-networking"><code class="option">--skip-networking</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已使用</font><font style="vertical-align: inherit;">该
             </font><font style="vertical-align: inherit;">选项，则显示该值</font></font><code class="literal">UNDEFINED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_prep_deallocate"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_prep_deallocate"><code class="literal">Mysqlx_prep_deallocate</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的prepared-statement-deallocate消息的数量
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_prep_execute"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_prep_execute"><code class="literal">Mysqlx_prep_execute</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的预准备语句执行消息的数量
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_prep_prepare"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_prep_prepare"><code class="literal">Mysqlx_prep_prepare</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的预准备声明消息的数量
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_rows_sent"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_rows_sent"><code class="literal">Mysqlx_rows_sent</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            发送回客户端的行数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_sessions"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_sessions"><code class="literal">Mysqlx_sessions</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            已打开的会话数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_sessions_accepted"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_sessions_accepted"><code class="literal">Mysqlx_sessions_accepted</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            已接受的会话尝试次数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_sessions_closed"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_sessions_closed"><code class="literal">Mysqlx_sessions_closed</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            已关闭的会话数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_sessions_fatal_error"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_sessions_fatal_error"><code class="literal">Mysqlx_sessions_fatal_error</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            因致命错误而关闭的会话数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_sessions_killed"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_sessions_killed"><code class="literal">Mysqlx_sessions_killed</code></a>
          </p><p>
            The number of sessions which have been killed.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_sessions_rejected"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_sessions_rejected"><code class="literal">Mysqlx_sessions_rejected</code></a>
          </p><p>
            The number of session attempts which have been rejected.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_socket"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_socket"><code class="literal">Mysqlx_socket</code></a>
          </p><p>
            The Unix socket which X Plugin is listening to.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_accept_renegotiates"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_accept_renegotiates"><code class="literal">Mysqlx_ssl_accept_renegotiates</code></a>
          </p><p>
            The number of negotiations needed to establish the
            connection.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_accepts"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_accepts"><code class="literal">Mysqlx_ssl_accepts</code></a>
          </p><p>
            The number of accepted SSL connections.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_active"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_active"><code class="literal">Mysqlx_ssl_active</code></a>
          </p><p>
            If SSL is active.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_cipher"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_cipher"><code class="literal">Mysqlx_ssl_cipher</code></a>
          </p><p>
            The current SSL cipher (empty for non-SSL connections).
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_cipher_list"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_cipher_list"><code class="literal">Mysqlx_ssl_cipher_list</code></a>
          </p><p>
            A list of possible SSL ciphers (empty for non-SSL
            connections).
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_ctx_verify_depth"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_ctx_verify_depth"><code class="literal">Mysqlx_ssl_ctx_verify_depth</code></a>
          </p><p>
            

            The certificate verification depth limit currently set in
            ctx.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_ctx_verify_mode"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_ctx_verify_mode"><code class="literal">Mysqlx_ssl_ctx_verify_mode</code></a>
          </p><p>
            The certificate verification mode currently set in ctx.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_finished_accepts"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_finished_accepts"><code class="literal">Mysqlx_ssl_finished_accepts</code></a>
          </p><p>
            The number of successful SSL connections to the server.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_server_not_after"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_server_not_after"><code class="literal">Mysqlx_ssl_server_not_after</code></a>
          </p><p>
            The last date for which the SSL certificate is valid.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_server_not_before"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_server_not_before"><code class="literal">Mysqlx_ssl_server_not_before</code></a>
          </p><p>
            The first date for which the SSL certificate is valid.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_verify_depth"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_verify_depth"><code class="literal">Mysqlx_ssl_verify_depth</code></a>
          </p><p>
            The certificate verification depth for SSL connections.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_verify_mode"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_verify_mode"><code class="literal">Mysqlx_ssl_verify_mode</code></a>
          </p><p>
            The certificate verification mode for SSL connections.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_ssl_version"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_ssl_version"><code class="literal">Mysqlx_ssl_version</code></a>
          </p><p>
            The name of the protocol used for SSL connections.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_create_collection"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_create_collection"><code class="literal">Mysqlx_stmt_create_collection</code></a>
          </p><p>
            The number of create collection statements received.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_create_collection_index"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_create_collection_index"><code class="literal">Mysqlx_stmt_create_collection_index</code></a>
          </p><p>
            The number of create collection index statements received.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_disable_notices"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_disable_notices"><code class="literal">Mysqlx_stmt_disable_notices</code></a>
          </p><p>
            The number of disable notice statements received.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_drop_collection"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_drop_collection"><code class="literal">Mysqlx_stmt_drop_collection</code></a>
          </p><p>
            The number of drop collection statements received.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_drop_collection_index"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_drop_collection_index"><code class="literal">Mysqlx_stmt_drop_collection_index</code></a>
          </p><p>
            The number of drop collection index statements received.
          </p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_enable_notices"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_enable_notices"><code class="literal">Mysqlx_stmt_enable_notices</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的启用通知语句的数量。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_ensure_collection"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_ensure_collection"><code class="literal">Mysqlx_stmt_ensure_collection</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的确保收集声明的数量。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_execute_mysqlx"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_execute_mysqlx"><code class="literal">Mysqlx_stmt_execute_mysqlx</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            在命名空间设置为的情况下收到的StmtExecute消息数</font></font><code class="literal">mysqlx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_execute_sql"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_execute_sql"><code class="literal">Mysqlx_stmt_execute_sql</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的SQL命名空间的StmtExecute请求数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_execute_xplugin"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_execute_xplugin"><code class="literal">Mysqlx_stmt_execute_xplugin</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            为X Plugin命名空间收到的StmtExecute请求数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_kill_client"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_kill_client"><code class="literal">Mysqlx_stmt_kill_client</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的kill客户语句数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_list_clients"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_list_clients"><code class="literal">Mysqlx_stmt_list_clients</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的列表客户语句数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_list_notices"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_list_notices"><code class="literal">Mysqlx_stmt_list_notices</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的列表通知声明的数量。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_list_objects"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_list_objects"><code class="literal">Mysqlx_stmt_list_objects</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的列表对象语句的数量。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_stmt_ping"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_stmt_ping"><code class="literal">Mysqlx_stmt_ping</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            收到的ping语句数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_worker_threads"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_worker_threads"><code class="literal">Mysqlx_worker_threads</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            可用的工作线程数。
          </font></font></p></li><li class="listitem"><p><a name="statvar_Mysqlx_worker_threads_active"></a>
            <a class="link" href="document-store.html#statvar_Mysqlx_worker_threads_active"><code class="literal">Mysqlx_worker_threads_active</code></a>
          </p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
            当前使用的工作线程数。
</font></font></p></li></ul>
</div>

</div>

</div>

</div>

</div>
<div class="copyright-footer">

</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tbody><tr>
<td width="40%" align="left"><a accesskey="p" href="mysql-shell-userguide.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上一页</font></font></a></td>
<td width="20%" align="center"><a accesskey="u" href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">向上</font></font></a></td>
<td width="40%" align="right">&nbsp;<a accesskey="n" href="mysql-innodb-cluster-userguide.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下一个</font></font></a></td>
</tr>
<tr>
<td width="40%" align="left" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第19章MySQL Shell</font></font></td>
<td width="20%" align="center"><a accesskey="h" href="index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">家</font></font></a></td>
<td width="40%" align="right" valign="top"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第21章InnoDB集群</font></font></td>
</tr>
</tbody></table>
</div>


<div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="/doc/MySQL8_Dev/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><div id="cntvlive2-is-installed"></div><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>