<!DOCTYPE html>
<html lang="zh-cn" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="牧云" />
	
	
	
	<title>Redis配置文件redis.conf参数详解 ｜ 牧人池塘</title>
	
    
    
    <meta name="description" content="Redis配置文件redis.conf参数详解，基本兼容4.x及5.0版本： /********************************* GENERAL *********************************/ // 是否作为守护进程运行 daemonize yes // 如以后台进程运行，则需指定一个pid，默认为/var/run/redis.pid pidfile /var/run/redis.pid // Re" />
    

    
    
    <meta name="keywords" content="牧人池塘, DBA, 运维, 开发, 独立博客, iops.top" />
    

	
    
    <link rel="shortcut icon" href="/favicon.ico" />

    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.bootcdn.net/ajax/libs/normalize/8.0.1/normalize.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="https://cdn.bootcdn.net/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/css/zozo.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/3.2.0/remixicon.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="/css/highlight.css" />

    
    
</head>

<body>
    <div class="main animate__animated animate__fadeInDown">
        <div class="nav_container animated fadeInDown">
    <div class="site_nav" id="site_nav">
        <ul>
            
            <li>
                <a href="/">首页</a>
            </li>
            
            <li>
                <a href="/notes/">技术</a>
            </li>
            
            <li>
                <a href="/life/">生活</a>
            </li>
            
            <li>
                <a href="/categories/">分类</a>
            </li>
            
            <li>
                <a href="/tags/">标签</a>
            </li>
            
            <li>
                <a href="/archives/">归档</a>
            </li>
            
            <li>
                <a href="/doc/">文档</a>
            </li>
            
            <li>
                <a href="/firendlink/">友链</a>
            </li>
            
            <li>
                <a href="/about/">关于</a>
            </li>
            
        </ul>
    </div>
    <div class="menu_icon">
        <a id="menu_icon"><i class="ri-menu-line"></i></a>
    </div>
</div>
        <div class="header animated fadeInDown">
    <div class="site_title_container">
        <div class="site_title">
            <h1>
                <a href="/">
                    <span>牧人池塘</span>
                </a>
            </h1>
        </div>
        <div class="description">
            <p class="sub_title">时光匆匆，记录是对思维的沉淀.</p>
            <div class="my_socials">
                
                
                <a href="https://github.com/rootdba" title="github" target="_blank"><i class="ri-github-fill"></i></a>
                
                
                
                <a href="https://twitter.com/imlaoma" title="twitter" target="_blank"><i class="ri-twitter-fill"></i></a>
                
                
                <a href="/index.xml" type="application/rss+xml" title="rss" target="_blank"><i
                        class="ri-rss-fill"></i></a>
            </div>
        </div>
    </div>
</div>
        <div class="content">
            <div class="post_page">
                <div class="post animate__animated animate__fadeInDown">
                    <div class="post_title post_detail_title">
                        <h2><a href='/notes/redis-conf/' title='Redis配置文件redis.conf参数详解 '>Redis配置文件redis.conf参数详解</a>
									
					    						
						<a href="/categories/redis" title="分类：Redis"> - Redis</a>	</h2>					
					    
						
                        <span class="date">日期：2017.01.11</span>
						

						
                    </div>
                    <div class="post_content markdown"><p>Redis配置文件redis.conf参数详解，基本兼容4.x及5.0版本：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">/********************************* GENERAL *********************************/
</span></span><span class="line"><span class="cl">// 是否作为守护进程运行
</span></span><span class="line"><span class="cl">daemonize yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 如以后台进程运行，则需指定一个pid，默认为/var/run/redis.pid
</span></span><span class="line"><span class="cl">pidfile /var/run/redis.pid 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// Redis默认监听端口
</span></span><span class="line"><span class="cl">port 6379 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tcp-backlog 511 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 客户端闲置多少秒后，断开连接
</span></span><span class="line"><span class="cl">timeout 0 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">tcp-keepalive 0 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 日志记录等级，有4个可选值，debug，verbose，notice，warning
</span></span><span class="line"><span class="cl">loglevel notice 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 指定日志输出的文件名，可设为/dev/null屏蔽日志
</span></span><span class="line"><span class="cl">logfile &#34;&#34; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 可用数据库数，默认值为16，默认数据库为0
</span></span><span class="line"><span class="cl">databases 16 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/****************************** SNAPSHOTTING 快照 *********************************/
</span></span><span class="line"><span class="cl">// 保存数据到disk的策略
</span></span><span class="line"><span class="cl">// 900 秒有 1 条改变保存到disk
</span></span><span class="line"><span class="cl">save 900 1
</span></span><span class="line"><span class="cl">// 300 秒有 10 条改变保存到disk
</span></span><span class="line"><span class="cl">save 300 10
</span></span><span class="line"><span class="cl">// 60 秒有 10000 条改变保存到disk
</span></span><span class="line"><span class="cl">save 60 10000 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">stop-writes-on-bgsave-error yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 当dump .rdb数据库的时候是否压缩数据对象
</span></span><span class="line"><span class="cl">rdbcompression yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">rdbchecksum yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 本地数据库文件名，默认值为dump.rdb
</span></span><span class="line"><span class="cl">dbfilename dump.rdb 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 本地数据库存放路径，默认值为 ./
</span></span><span class="line"><span class="cl">dir ./ 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/*************************** REPLICATION Redis的复制配置 *********************************/ 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 当本机为从服务时，设置主服务的IP及端口
</span></span><span class="line"><span class="cl">// slaveof &lt;masterip&gt; &lt;masterport&gt; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 当本机为从服务时，设置主服务的连接密码
</span></span><span class="line"><span class="cl">// masterauth &lt;master-password&gt; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 当从库同主机失去连接或者复制正在进行，从机库有两种运行方式
</span></span><span class="line"><span class="cl">// 1) 如果slave-serve-stale-data设置为yes(默认设置)，从库会继续相应客户端的请求
</span></span><span class="line"><span class="cl">// 2) 如果slave-serve-stale-data是指为no，出去INFO和SLAVOF命令之外的任何请求都会返回一个错误&#34;SYNC with master in progress&#34;
</span></span><span class="line"><span class="cl">slave-serve-stale-data yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">slave-read-only yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">repl-diskless-sync no 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">repl-diskless-sync-delay 5 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 从库会按照一个时间间隔向主库发送PINGs.可以通过repl-ping-slave-period设置这个时间间隔，默认是10秒
</span></span><span class="line"><span class="cl">repl-ping-slave-period 10 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// repl-timeout 设置主库批量数据传输时间或者ping回复时间间隔，默认值是60秒
</span></span><span class="line"><span class="cl">// 一定要确保repl-timeout大于repl-ping-slave-period
</span></span><span class="line"><span class="cl">repl-timeout 60 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 采用无延迟同步 默认no
</span></span><span class="line"><span class="cl">repl-disable-tcp-nodelay yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">slave-priority 100 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* SECURITY 安全 *********************************/ 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 设置客户端连接后进行任何其他指定前需要使用的密码。
</span></span><span class="line"><span class="cl">// 警告：因为redis速度相当快，所以在一台比较好的服务器下，一个外部的用户可以在一秒钟进行150K次的密码尝试，
</span></span><span class="line"><span class="cl">这意味着你需要指定非常非常强大的密码来防止暴力破解
</span></span><span class="line"><span class="cl">// requirepass foobared 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 命令重命名.
</span></span><span class="line"><span class="cl">// 在一个共享环境下可以重命名相对危险的命令。比如把CONFIG重名为一个不容易猜测的字符。
</span></span><span class="line"><span class="cl">// 举例:
</span></span><span class="line"><span class="cl">// rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52
</span></span><span class="line"><span class="cl">// 如果想删除一个命令，直接把它重命名为一个空字符&#34;&#34;即可，如下：
</span></span><span class="line"><span class="cl">// rename-command CONFIG &#34;&#34; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* LIMITS 约束 *********************************/
</span></span><span class="line"><span class="cl">// 最大可用内存 maxmemory &lt;bytes&gt; 536870912，即512M
</span></span><span class="line"><span class="cl">maxmemory 536870912 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 当内存达到最大值的时候Redis会选择删除哪些数据？有五种方式可供选择
</span></span><span class="line"><span class="cl">//
</span></span><span class="line"><span class="cl">// volatile-lru -&gt; 利用LRU算法移除设置过过期时间的key (LRU:最近使用 Least Recently Used )
</span></span><span class="line"><span class="cl">// allkeys-lru -&gt; 利用LRU算法移除任何key
</span></span><span class="line"><span class="cl">// volatile-random -&gt; 移除设置过过期时间的随机key
</span></span><span class="line"><span class="cl">// allkeys-&gt;random -&gt; remove a random key, any key
</span></span><span class="line"><span class="cl">// volatile-ttl -&gt; 移除即将过期的key(minor TTL)
</span></span><span class="line"><span class="cl">// noeviction -&gt; 不移除任何可以，只是返回一个写错误
</span></span><span class="line"><span class="cl">maxmemory-policy allkeys-lru 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// LRU 和 minimal TTL 算法都不是精准的算法，但是相对精确的算法(为了节省内存)，随意你可以选择样本大小进行检测。
</span></span><span class="line"><span class="cl">// Redis默认的灰选择3个样本进行检测，你可以通过maxmemory-samples进行设置
</span></span><span class="line"><span class="cl">maxmemory-samples 3 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* APPEND ONLY MODE *********************************/ 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 启用aof持久化方式
</span></span><span class="line"><span class="cl">// 因为redis本身同步数据文件是按上面save条件来同步的，所以有的数据会在一段时间内只存在于内存中。默认值为no
</span></span><span class="line"><span class="cl">appendonly yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 更新日志文件名，默认值为appendonly.aof
</span></span><span class="line"><span class="cl">appendfilename &#34;appendonly.aof&#34; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 收到写命令立即写入磁盘，最慢，保证完全的持久化
</span></span><span class="line"><span class="cl">appendfsync always
</span></span><span class="line"><span class="cl">// 每秒写入一次
</span></span><span class="line"><span class="cl">appendfsync everysec
</span></span><span class="line"><span class="cl">// 完全依赖OS，性能最好，持久化没保证
</span></span><span class="line"><span class="cl">appendfsync no 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 部署在同一机器的redis实例，把auto-aof-rewrite打开，因为cluster环境下内存占用基本一致
</span></span><span class="line"><span class="cl">#关闭在aof rewrite的时候对新的写操作进行fsync
</span></span><span class="line"><span class="cl">no-appendfsync-on-rewrite yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// Automatic rewrite of the append only file.
</span></span><span class="line"><span class="cl">// AOF 自动重写
</span></span><span class="line"><span class="cl">// 当AOF文件增长到一定大小的时候Redis能够调用 BGREWRITEAOF 对日志文件进行重写
</span></span><span class="line"><span class="cl">//
</span></span><span class="line"><span class="cl">// 它是这样工作的：Redis会记住上次进行些日志后文件的大小(如果从开机以来还没进行过重写，那日子大小在开机的时候确定)
</span></span><span class="line"><span class="cl">//
</span></span><span class="line"><span class="cl">// 基础大小会同现在的大小进行比较。如果现在的大小比基础大小大制定的百分比，重写功能将启动
</span></span><span class="line"><span class="cl">// 同时需要指定一个最小大小用于AOF重写，这个用于阻止即使文件很小但是增长幅度很大也去重写AOF文件的情况
</span></span><span class="line"><span class="cl">// 设置 percentage 为0就关闭这个特性
</span></span><span class="line"><span class="cl">auto-aof-rewrite-percentage 100
</span></span><span class="line"><span class="cl">auto-aof-rewrite-min-size 64mb 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">aof-load-truncated yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* LUA SCRIPTING *********************************/
</span></span><span class="line"><span class="cl">lua-time-limit 5000 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* REDIS CLUSTER 集群*********************************/
</span></span><span class="line"><span class="cl">// 打开redis集群
</span></span><span class="line"><span class="cl">cluster-enabled yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// cluster配置文件(启动自动生成)
</span></span><span class="line"><span class="cl">cluster-config-file nodes-6379.conf 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 节点互连超时的阀值
</span></span><span class="line"><span class="cl">cluster-node-timeout 15000 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cluster-slave-validity-factor 10 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">cluster-migration-barrier 1 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 集群兼容部分失败
</span></span><span class="line"><span class="cl">cluster-require-full-coverage yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* SLOW LOG *********************************/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// Redis Slow Log 记录超过特定执行时间的命令。执行时间不包括I/O计算比如连接客户端，返回结果等，只是命令执行时间
</span></span><span class="line"><span class="cl">//
</span></span><span class="line"><span class="cl">// 可以通过两个参数设置slow log：一个是告诉Redis执行超过多少时间被记录的参数slowlog-log-slower-than(微妙)，
</span></span><span class="line"><span class="cl">// 另一个是slow log 的长度。当一个新命令被记录的时候最早的命令将被从队列中移除 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 下面的时间以微妙微单位，因此1000000代表一分钟。
</span></span><span class="line"><span class="cl">// 注意制定一个负数将关闭慢日志，而设置为0将强制每个命令都会记录
</span></span><span class="line"><span class="cl">slowlog-log-slower-than 10000 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 对日志长度没有限制，只是要注意它会消耗内存
</span></span><span class="line"><span class="cl">// 可以通过 SLOWLOG RESET 回收被慢日志消耗的内存
</span></span><span class="line"><span class="cl">slowlog-max-len 128 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* LATENCY MONITOR *********************************/ 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">latency-monitor-threshold 0 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* EVENT NOTIFICATION *********************************/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">notify-keyspace-events &#34;&#34; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* ADVANCED CONFIG *********************************/ 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 当hash中包含超过指定元素个数并且最大的元素没有超过临界时，
</span></span><span class="line"><span class="cl">// hash将以一种特殊的编码方式（大大减少内存使用）来存储，这里可以设置这两个临界值
</span></span><span class="line"><span class="cl">// Redis Hash对应Value内部实际就是一个HashMap，实际这里会有2种不同实现，
</span></span><span class="line"><span class="cl">// 这个Hash的成员比较少时Redis为了节省内存会采用类似一维数组的方式来紧凑存储，
</span></span><span class="line"><span class="cl">而不会采用真正的HashMap结构，对应的value redisObject的encoding为zipmap, 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 当成员数量增大时会自动转成真正的HashMap,此时encoding为ht。 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hash-max-ziplist-entries 512
</span></span><span class="line"><span class="cl">hash-max-ziplist-value 64 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// list数据类型多少节点以下会采用去指针的紧凑存储格式。
</span></span><span class="line"><span class="cl">// list数据类型节点值大小小于多少字节会采用紧凑存储格式。
</span></span><span class="line"><span class="cl">list-max-ziplist-entries 512
</span></span><span class="line"><span class="cl">list-max-ziplist-value 64 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// set数据类型内部数据如果全部是数值型，且包含多少节点以下会采用紧凑格式存储。
</span></span><span class="line"><span class="cl">set-max-intset-entries 512 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// zsort数据类型多少节点以下会采用去指针的紧凑存储格式。
</span></span><span class="line"><span class="cl">// zsort数据类型节点值大小小于多少字节会采用紧凑存储格式。
</span></span><span class="line"><span class="cl">zset-max-ziplist-entries 128
</span></span><span class="line"><span class="cl">zset-max-ziplist-value 64 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hll-sparse-max-bytes 3000 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// Redis将在每100毫秒时使用1毫秒的CPU时间来对redis的hash表进行重新hash，可以降低内存的使用
</span></span><span class="line"><span class="cl">//
</span></span><span class="line"><span class="cl">// 当你的使用场景中，有非常严格的实时性需要，不能够接受Redis时不时的对请求有2毫秒的延迟的话，把这项配置为no。
</span></span><span class="line"><span class="cl">//
</span></span><span class="line"><span class="cl">// 如果没有这么严格的实时性要求，可以设置为yes，以便能够尽可能快的释放内存
</span></span><span class="line"><span class="cl">activerehashing yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">client-output-buffer-limit normal 0 0 0
</span></span><span class="line"><span class="cl">client-output-buffer-limit slave 256mb 64mb 60
</span></span><span class="line"><span class="cl">client-output-buffer-limit pubsub 32mb 8mb 60 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">hz 10 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">aof-rewrite-incremental-fsync yes 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* VM *********************************/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 是否使用虚拟内存，默认值为no
</span></span><span class="line"><span class="cl">vm-enabled yes
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 虚拟内存文件路径，默认值为/tmp/redis.swap，不可多个Redis实例共享
</span></span><span class="line"><span class="cl">vm-swap-file /tmp/redis.swap
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 将所有大于vm-max-memory的数据存入虚拟内存,无论vm-max-memory设置多小,所有索引数据都是内存存储的
</span></span><span class="line"><span class="cl">(Redis的索引数据就是keys),也就是说,当vm-max-memory设置为0的时候,其实是所有value都存在于磁盘。默认值为0。
</span></span><span class="line"><span class="cl">vm-max-memory 0
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 虚拟内存文件以块存储，每块32bytes
</span></span><span class="line"><span class="cl">vm-page-size 32
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 虚拟内在文件的最大数
</span></span><span class="line"><span class="cl">vm-pages 134217728
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 可以设置访问swap文件的线程数,设置最好不要超过机器的核数,如果设置为0,那么所有对swap文件的操作都是串行的.
</span></span><span class="line"><span class="cl">可能会造成比较长时间的延迟,但是对数据完整性有很好的保证.
</span></span><span class="line"><span class="cl">vm-max-threads 4
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* INCLUDES *********************************/
</span></span><span class="line"><span class="cl">// 包含通用配置
</span></span><span class="line"><span class="cl">include /etc/redis/redis-common.conf 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* GENERAL *********************************/
</span></span><span class="line"><span class="cl">// 如以后台进程运行，则需指定一个pid，默认为/var/run/redis.pid
</span></span><span class="line"><span class="cl">pidfile /var/run/redis_6379.pid 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// Redis默认监听端口
</span></span><span class="line"><span class="cl">port 6379 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 指定日志输出的文件名，可设为/dev/null屏蔽日志
</span></span><span class="line"><span class="cl">logfile /var/log/redis_6379.log 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* SNAPSHOTTING 快照 *********************************/ 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 本地数据库文件名，默认值为dump.rdb
</span></span><span class="line"><span class="cl">dbfilename dump6379.rdb 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 本地数据库存放路径，默认值为 ./
</span></span><span class="line"><span class="cl">dir /var/redis/6379 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* REPLICATION Redis的复制配置 *********************************/ 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 当本机为从服务时，设置主服务的IP及端口
</span></span><span class="line"><span class="cl">// slaveof &lt;masterip&gt; &lt;masterport&gt; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 当本机为从服务时，设置主服务的连接密码
</span></span><span class="line"><span class="cl">// masterauth &lt;master-password&gt; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* APPEND ONLY MODE *********************************/ 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// 更新日志文件名，默认值为appendonly.aof
</span></span><span class="line"><span class="cl">appendfilename &#34;appendonly6379.aof&#34; 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">/********************************* REDIS CLUSTER 集群 *********************************/
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">// cluster配置文件(启动自动生成)
</span></span><span class="line"><span class="cl">cluster-config-file nodes-6379.conf
</span></span></code></pre></div></div>
                    <div class="post_footer">
                        
                        <div class="meta">
                            <div class="info">
                                <span class="field tags">
                                    <i class="ri-stack-line"></i>Tag标签：
                                    
                                    <a href="/tags/redis/" title="Redis">Redis</a>
                                    
                                    <a href="/tags/%E5%8F%82%E6%95%B0/" title="参数">参数</a>
                                    
                                    <a href="/tags/linux/" title="Linux">Linux</a>
                                    
                                    <a href="/tags/daemonize/" title="daemonize">daemonize</a>
                                    
                                </span>
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                
                
<div>    
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 16px;">发表评论</span>
        <br/>
    </div>
    <div id="tcomment"></div>
    <script src="https://utteranc.es/client.js"
            repo="rootdba/rootdba.github.io" 
            issue-term="url"
            theme="preferred-color-scheme"
            crossorigin="anonymous"
            async>
    </script>
</div>




                
            </div>
        </div>
    </div>
    <a id="back_to_top" href="#" class="back_to_top"><i class="ri-arrow-up-s-line"></i></a>
    <footer class="footer">
    <div class="powered_by">

        
        <a href="/">&copy; 2015-2023 牧人池塘</a> <a href="https://gohugo.io/" target="_blank">Hugo驱动</a> <a href="https://github.com/varkai/hugo-theme-zozo" target="_blank">Theme: Zozo</a> <a href='/index.xml' target="_blank" title='Rss订阅'>Rss订阅</a> 

    </div>

    <div class="footer_slogan">
        <span>勿在浮沙筑高台，不为繁华易匠心.</span><br>
    </div>
</footer>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
<link href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" rel="stylesheet">
<script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>
<script src="/js/zozo.js"></script>


<script type="text/javascript" async
    src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
        MathJax.Hub.Config({
            tex2jax: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\[\[', '\]\]']],
                processEscapes: true,
                processEnvironments: true,
                skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                TeX: {
                    equationNumbers: { autoNumber: "AMS" },
                    extensions: ["AMSmath.js", "AMSsymbols.js"]
                }
            }
        });

        MathJax.Hub.Queue(function () {
            
            
            
            var all = MathJax.Hub.getAllJax(), i;
            for (i = 0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

<style>
    code.has-jax {
        font: inherit;
        font-size: 100%;
        background: inherit;
        border: inherit;
        color: #515151;
    }
</style>



</body>

</html>